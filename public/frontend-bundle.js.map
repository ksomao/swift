{"version":3,"sources":["webpack://landing/../node_modules/babel-plugin-transform-async-to-promises/helpers.js","webpack://landing/../src/modules/Logger.ts","webpack://landing/../src/defs/hooks.ts","webpack://landing/../node_modules/path-to-regexp/index.js","webpack://landing/../src/schemas/attribute.ts","webpack://landing/../src/utils/dom.ts","webpack://landing/../src/utils/history.ts","webpack://landing/../src/utils/helpers.ts","webpack://landing/../src/utils/url.ts","webpack://landing/../src/utils/request.ts","webpack://landing/../node_modules/is-promise/index.js","webpack://landing/../src/utils/run-async.ts","webpack://landing/../src/hooks.ts","webpack://landing/../src/modules/Ignore.ts","webpack://landing/../src/modules/Cache.ts","webpack://landing/../src/modules/Prevent.ts","webpack://landing/../src/modules/Error.ts","webpack://landing/../src/modules/Store.ts","webpack://landing/../src/modules/Transitions.ts","webpack://landing/../src/modules/Views.ts","webpack://landing/../src/polyfills/index.ts","webpack://landing/../src/schemas/page.ts","webpack://landing/../src/core.ts","webpack://landing/./src/index.js","webpack://landing/./src/js/gsap/about.gsap.js","webpack://landing/./src/js/gsap/animation.gsap.js","webpack://landing/./src/js/gsap/barba.gsap.js","webpack://landing/./src/js/gsap/index.gsap.js","webpack://landing/./src/js/gsap/loader.gsap.js","webpack://landing/./src/sass/style.scss","webpack://landing/webpack/bootstrap","webpack://landing/webpack/runtime/compat get default export","webpack://landing/webpack/runtime/define property getters","webpack://landing/webpack/runtime/hasOwnProperty shorthand","webpack://landing/webpack/runtime/make namespace object","webpack://landing/webpack/startup"],"names":["_catch","body","recover","result","e","then","Symbol","iterator","asyncIterator","LogLevels","HookMethods","_level","off","Logger","source","this","_source","getLevel","setLevel","name","error","objects","_log","console","warn","warning","info","debug","log","fn","level","apply","concat","pathToRegexp","regexpToFunction","parse","tokensToFunction","tokensToRegExp","DEFAULT_DELIMITER","PATH_REGEXP","RegExp","join","str","options","res","tokens","key","index","path","defaultDelimiter","delimiter","whitelist","undefined","pathEscaped","exec","m","escaped","offset","slice","length","prev","capture","group","modifier","k","c","indexOf","push","pattern","prefix","optional","repeat","escapeGroup","escapeString","substr","re","keys","pathname","params","decode","decodeURIComponent","i","split","map","value","matches","Array","flags","data","encode","encodeURIComponent","validate","token","segment","isArray","TypeError","j","test","String","replace","sensitive","strict","start","end","endsWith","route","endToken","isEndDelimited","groups","match","regexpToRegexp","parts","arrayToRegexp","stringToRegexp","schemaAttribute","container","history","namespace","prevent","wrapper","dom","DOMParser","toString","el","outerHTML","toDocument","htmlString","_parser","parseFromString","toElement","div","document","createElement","innerHTML","getHtml","doc","documentElement","getWrapper","scope","querySelector","_attr","getContainer","removeContainer","contains","parentNode","removeChild","addContainer","existingContainer","_insertAfter","appendChild","getNamespace","ns","getAttribute","getHref","tagName","toLowerCase","href","resolveUrl","baseVal","urls","numUrls","Error","base","arguments","head","getElementsByTagName","insertBefore","firstChild","resolved","a","newNode","referenceNode","nextSibling","init","url","_session","state","scroll","x","window","scrollX","y","scrollY","_states","_pointer","item","from","states","replaceState","change","trigger","_getDirection","add","size","action","_getAction","pushState","update","get","set","remove","splice","pop","clear","newStates","attr","hasAttribute","diff","Math","abs","page","next","html","nextDocument","title","ptr","Promise","requestAnimationFrame","resolve","getOrigin","location","origin","getPort","port","portString","substring","parseInt","hash","query","hashIndex","queryIndex","parseQuery","reduce","acc","clean","request","ttl","requestError","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","status","responseText","statusText","ontimeout","err","onerror","open","timeout","setRequestHeader","send","obj","runAsync","func","ctx","args","async","promise","answer","isPromise","hooks","_this","Map","registered","all","forEach","_this2","hook","has","Set","chain","_this3","logger","_this4","help","Ignore","ignore","_ignoreAll","paths","_ignoreRegexes","p","checkHref","some","regex","Cache","_state","getRequest","getAction","exists","newTab","event","which","metaKey","ctrlKey","shiftKey","altKey","blank","target","corsDomain","protocol","hostname","corsPort","download","preventSelf","preventAll","Boolean","closest","sameUrl","Prevent","check","suite","tests","run","checkLink","BarbaError","label","captureStackTrace","Store","transitions","type","_rules","position","filters","once","filter","self","t","matching","active","find","valid","reverse","_check","rule","to","activeMatch","transitionType","infos","Object","_addPriority","sort","b","priority","leave","enter","transition","direction","isValid","hasMatch","strRule","objRule","fnName","current","names","_calculatePriority","ruleName","ruleIndex","pow","Transitions","store","doOnce","_running","_doAsyncHook","doPage","sync","_isTransitionError","leaveResult","helpers","values","message","Views","views","byNamespace","view","_createHook","Element","prototype","msMatchesSelector","webkitMatchesSelector","s","parentElement","nodeType","schemaPage","version","use","plugin","installedPlugins","plugins","install","schema","cacheIgnore","prefetchIgnore","preventRunning","preventCustom","logLevel","_requestCustomError","_wrapper","setAttribute","_resetData","cache","_onLinkEnter","bind","_onLinkClick","_onStateChange","_bind","onceData","destroy","_unbind","force","assign","go","isRunning","getPath","hasSelf","stopPropagation","preventDefault","readyData","hasOnce","onRequestError","shouldWait","response","prefetch","_this5","addEventListener","removeEventListener","link","_getLinkElement","_this6","_data","links","querySelectorAll","admin","getElementById","classList","animationAbout","tl","gsap","timeline","opacity","fadeInUp","fadeIn","fadeInUpStagger","backgroundColor","color","beforeEnter","autoAlpha","duration","stagger","fadeInStagger","fadeInScale","scaleX","barba","animationLoader","scrollTo","afterEnter","animationIndex","reset","rotation","xPercent","yPercent","transformOrigin","loaderIn","onComplete","loaderAway","fromTo","ease"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoOA;;AAAA,WA8UgBA,CA9UhB,CA8UuBC,CA9UvB,EA8U6BC,CA9U7B,EA8U6BA;AAC5B;AACC,UAAIC,IAASF,GAAb;AACC,KAFF,CAEE,OAAMG,CAAN,EAAMA;AACP,aAAOF,EAAQE,CAARF,CAAP;AAED;;AAAA,WAAIC,KAAUA,EAAOE,IAAjBF,GACIA,EAAOE,IAAPF,CAAOE,KAAK,CAAZF,EAAoBD,CAApBC,CADJA,GAGGA,CAHP;AApZ8D;;AAAA,wBAAXG,MAAW,KAAeA,OAAOC,QAAPD,KAAoBA,OAAOC,QAAPD,GAAkBA,OAAO,iBAAPA,CAAtCA,CAAf,GA6DK,sBAAXA,MAAW,KAAeA,OAAOE,aAAPF,KAAyBA,OAAOE,aAAPF,GAAuBA,OAAO,sBAAPA,CAAhDA,CAAf,CA7DL;;AA6D2E,MC3M9HG,CD2M8H;AAAA,MC3M9HA,WD2M8H;AAAA,MExL7HC,kBFwL6H;;AExL7HA,GDnBb,UAAYD,CAAZ,EAAYA;AACVA,0BACAA,wBADAA,EAEAA,4BAFAA,EAGAA,sBAHAA,EAIAA,wBAJAA;AADF,IAAYA,aAAZ,CCmBaC;;ADRb,MAAIC,IAAiBF,EAAUG,GAA/B;AAAA,MAEaC;AAyBX,eAAYC,CAAZ,EAAYA;AACVC,WAAKC,CAALD,GAAeD,CAAfC;AA1BJF;;AAAAA,MAIgBI,QAJhBJ,GAIS;AACL,aAAOF,CAAP;AAAOA,KALXE,EAKWF,EAMKO,QANLP,GAMF,UAAgBQ,CAAhB,EAAgBA;AAGrB,aAFAR,IAASF,EAAUU,CAAVV,CAET;AAFmBU,KAZvBN;AAYuBM;AAAAA,aA2BdC,KA3BcD,GA2BdC;AAAAA,qCAASC,gBAATD,EAASC,KAATD,EAASC,KAATD,EAASC,GAATD,EAASC;;AACdN,WAAKO,CAALP,CAAUQ,QAAQH,KAAlBL,EAAyBN,EAAUW,KAAnCL,EAA0CM,CAA1CN;AAA0CM,KA5BvBF,EA4BuBE,EAMrCG,IANqCH,GAMrCG;AAAAA,qCAAQH,gBAARG,EAAQH,KAARG,EAAQH,KAARG,EAAQH,GAARG,EAAQH;;AACbN,WAAKO,CAALP,CAAUQ,QAAQC,IAAlBT,EAAwBN,EAAUgB,OAAlCV,EAA2CM,CAA3CN;AAA2CM,KAnCxBF,EAmCwBE,EAMtCK,IANsCL,GAMtCK;AAAAA,qCAAQL,gBAARK,EAAQL,KAARK,EAAQL,KAARK,EAAQL,GAARK,EAAQL;;AACbN,WAAKO,CAALP,CAAUQ,QAAQG,IAAlBX,EAAwBN,EAAUiB,IAAlCX,EAAwCM,CAAxCN;AAAwCM,KA1CrBF,EA0CqBE,EAMnCM,KANmCN,GAMnCM;AAAAA,qCAASN,gBAATM,EAASN,KAATM,EAASN,KAATM,EAASN,GAATM,EAASN;;AACdN,WAAKO,CAALP,CAAUQ,QAAQK,GAAlBb,EAAuBN,EAAUkB,KAAjCZ,EAAwCM,CAAxCN;AAAwCM,KAjDrBF,EAiDqBE,EAMlCC,CANkCD,GAMlCC,UAAKO,CAALP,EAAqBQ,CAArBR,EAAoCD,CAApCC,EAAoCD;AACtCS,WAASjB,EAAOI,QAAPJ,EAATiB,IACFD,EAAGE,KAAHF,CAASN,OAATM,EAAmB,OAAKd,KAAKC,CAAV,GAAUA,IAAV,EAAuBgB,MAAvB,CAA8BX,CAA9B,CAAnBQ,CADEC;AAC+CT,KAzDhCF,EAyDgCE,CAzDhCF;AAyDgCE,GArE1CR,EAFb;AAAA,MAuEuDQ,IErGtCY,CF8BjB;AAAA,ME9BiBA,IAEiBC,CF4BlC;AAAA,ME5BkCA,IACXC,CF2BvB;AAAA,ME3BuBA,IAEWC,CFyBlC;AAAA,MEzBkCA,IACFC,CFwBhC;AAAA,MEnBIC,IAAoB,GFmBxB;AAAA,MEZIC,IAAc,IAAIC,MAAJ,CAAW,CAG3B,SAH2B,EAS3B,qFAT2B,EAU3BC,IAV2B,CAUtB,GAVsB,CAAX,EAUL,GAVK,CFYlB;;AEOA,WAASN,CAAT,CAAgBO,CAAhB,EAAqBC,CAArB,EAAqBA;AAUnB,SATA,IAOIC,CAPJ,EAAIC,IAAS,EAAb,EACIC,IAAM,CADV,EAEIC,IAAQ,CAFZ,EAGIC,IAAO,EAHX,EAIIC,IAAoBN,KAAWA,EAAQO,SAAnBP,IAAiCL,CAJzD,EAKIa,IAAaR,KAAWA,EAAQQ,SAAnBR,IAAmBQ,KAAcC,CALlD,EAMIC,KAAc,CAGlB,EAAyC,UAAjCT,IAAML,EAAYe,IAAZf,CAAiBG,CAAjBH,CAA2B,CAAzC,GAA+C;AAC7C,UAAIgB,IAAIX,EAAI,CAAJA,CAAR;AAAA,UACIY,IAAUZ,EAAI,CAAJA,CADd;AAAA,UAEIa,IAASb,EAAIG,KAFjB;AAOA,UAJAC,KAAQN,EAAIgB,KAAJhB,CAAUK,CAAVL,EAAiBe,CAAjBf,CAARM,EACAD,IAAQU,IAASF,EAAEI,MADnBX,EAIIQ,CAAJ,EACER,KAAQQ,EAAQ,CAARA,CAARR,EACAK,KAAc,CADdL,CADF;AAMA,YAAIY,IAAO,EAAX;AAAA,YACIzC,IAAOyB,EAAI,CAAJA,CADX;AAAA,YAEIiB,IAAUjB,EAAI,CAAJA,CAFd;AAAA,YAGIkB,IAAQlB,EAAI,CAAJA,CAHZ;AAAA,YAIImB,IAAWnB,EAAI,CAAJA,CAJf;;AAMA,aAAKS,CAAL,IAAoBL,EAAKW,MAAzB,EAAiC;AAC/B,cAAIK,IAAIhB,EAAKW,MAALX,GAAc,CAAtB;AAAA,cACIiB,IAAIjB,EAAKgB,CAALhB,CADR;AACagB,YACCb,CADDa,IACab,EAAUe,OAAVf,CAAkBc,CAAlBd,IAAkBc,CAAM,CADrCD,MAIXJ,IAAOK,CAAPL,EACAZ,IAAOA,EAAKU,KAALV,CAAW,CAAXA,EAAcgB,CAAdhB,CALIgB;AAUXhB;;AAAAA,cACFH,EAAOsB,IAAPtB,CAAYG,CAAZH,GACAG,IAAO,EADPH,EAEAQ,KAAc,CAHZL;AAMJ,YAEIoB,IAAUP,KAAWC,CAFzB;AAAA,YAGIZ,IAAYU,KAAQX,CAHxB;AAKAJ,UAAOsB,IAAPtB,CAAY;AACV1B,gBAAMA,KAAQ2B,GADJ;AAEVuB,kBAAQT,CAFE;AAGVV,qBAAWA,CAHD;AAIVoB,oBAR0B,QAAbP,CAAa,IAAoB,QAAbA,CAIvB;AAKVQ,kBAVwB,QAAbR,CAAa,IAAoB,QAAbA,CAKrB;AAMVK,mBAASA,IACLI,EAAYJ,CAAZI,CADKJ,GAEL,OAAOK,EAAavB,MAAcD,CAAdC,GAAiCA,CAAjCA,GAA8CA,IAAYD,CAAvEwB,CAAP,GAAmG;AAR7F,SAAZ5B;AAQyG;AAS3G;;AAAA,YAJIG,KAAQD,IAAQL,EAAIiB,MAIxB,KAHEd,EAAOsB,IAAPtB,CAAYG,IAAON,EAAIgC,MAAJhC,CAAWK,CAAXL,CAAnBG,CAGF,EAAOA,CAAP;AA0BF;;AAAA,WAASX,CAAT,CAA2ByC,CAA3B,EAA+BC,CAA/B,EAA+BA;AAC7B,qBAAiBC,CAAjB,EAA2BlC,CAA3B,EAA2BA;AACzB,UAAIY,IAAIoB,EAAGrB,IAAHqB,CAAQE,CAARF,CAAR;AACA,WAAKpB,CAAL,EAAQ;;AAOR,WALA,IAAIP,IAAOO,EAAE,CAAFA,CAAX,EACIR,IAAQQ,EAAER,KADd,EAEI+B,IAAS,EAFb,EAGIC,IAAUpC,KAAWA,EAAQoC,MAAnBpC,IAA8BqC,kBAH5C,EAKSC,IAAI,CAAb,EAAgBA,IAAI1B,EAAEI,MAAtB,EAA8BsB,GAA9B,EACE,SAAa7B,CAAb,KAAIG,EAAE0B,CAAF1B,CAAJ;AAEA,YAAIT,IAAM8B,EAAKK,IAAI,CAATL,CAAV;AAGEE,UAAOhC,EAAI3B,IAAX2D,IADEhC,EAAIyB,MAAJzB,GACiBS,EAAE0B,CAAF1B,EAAK2B,KAAL3B,CAAWT,EAAII,SAAfK,EAA0B4B,GAA1B5B,CAA8B,UAAU6B,CAAV,EAAUA;AACzD,iBAAOL,EAAOK,CAAPL,EAAcjC,CAAdiC,CAAP;AAAqBjC,SADJS,CADjBT,GAKiBiC,EAAOxB,EAAE0B,CAAF1B,CAAPwB,EAAajC,CAAbiC,CAJnBD;AAQJ;;AAAA,aAAO;AAAE9B,cAAMA,CAAR;AAAcD,eAAOA,CAArB;AAA4B+B,gBAAQA;AAApC,OAAP;AAA2CA,KAvB7C;AA8BF;;AAAA,WAAS1C,CAAT,CAA2BS,CAA3B,EAAmCF,CAAnC,EAAmCA;AAKjC,SAHA,IAAI0C,IAAU,IAAIC,KAAJ,CAAUzC,EAAOc,MAAjB,CAAd,EAGSsB,IAAI,CAAb,EAAgBA,IAAIpC,EAAOc,MAA3B,EAAmCsB,GAAnC,EAC2B,mBAAdpC,EAAOoC,CAAPpC,CAAc,KACvBwC,EAAQJ,CAARI,IAAa,IAAI7C,MAAJ,CAAW,SAASK,EAAOoC,CAAPpC,EAAUuB,OAAnB,GAA6B,IAAxC,EAA8CmB,EAAM5C,CAAN4C,CAA9C,CADU;;AAK3B,qBAAiBC,CAAjB,EAAuB7C,CAAvB,EAAuBA;AAKrB,WAJA,IAAIK,IAAO,EAAX,EACIyC,IAAU9C,KAAWA,EAAQ8C,MAAnB9C,IAA8B+C,kBAD5C,EAEIC,KAAWhD,CAAXgD,IAAWhD,CAA+B,CAA/BA,KAAUA,EAAQgD,QAFjC,EAISV,IAAI,CAAb,EAAgBA,IAAIpC,EAAOc,MAA3B,EAAmCsB,GAAnC,EAAwC;AACtC,YAAIW,IAAQ/C,EAAOoC,CAAPpC,CAAZ;;AAEA,YAAqB,mBAAV+C,CAAX;AAKA,cACIC,CADJ;AAAA,cAAIT,IAAQI,IAAOA,EAAKI,EAAMzE,IAAXqE,CAAPA,GAAkBrE,KAAQiC,CAAtC;;AAGA,cAAIkC,MAAMQ,OAANR,CAAcF,CAAdE,CAAJ;AACE,iBAAKM,EAAMrB,MAAX,EACE,UAAUwB,SAAV,CAAoB,eAAeH,EAAMzE,IAArB,GAA4B,gCAAhD;;AAGF,gBAAqB,MAAjBiE,EAAMzB,MAAV,EAAwB;AACtB,kBAAIiC,EAAMtB,QAAV,EAAoB;AAEpB,wBAAUyB,SAAV,CAAoB,eAAeH,EAAMzE,IAArB,GAA4B,mBAAhD;AAGF;;AAAA,iBAAK,IAAI6E,IAAI,CAAb,EAAgBA,IAAIZ,EAAMzB,MAA1B,EAAkCqC,GAAlC,EAAuC;AAGrC,kBAFAH,IAAUJ,EAAOL,EAAMY,CAANZ,CAAPK,EAAiBG,CAAjBH,CAAVI,EAEIF,MAAaN,EAAQJ,CAARI,EAAWY,IAAXZ,CAAgBQ,CAAhBR,CAAjB,EACE,UAAUU,SAAV,CAAoB,mBAAmBH,EAAMzE,IAAzB,GAAgC,cAAhC,GAAiDyE,EAAMxB,OAAvD,GAAiE,GAArF;AAGFpB,oBAAe,MAANgD,CAAM,GAAIJ,EAAMvB,MAAV,GAAmBuB,EAAM1C,SAAxCF,IAAqD6C,CAArD7C;AAAqD6C;AAAAA,WAlBzD,MAwBA,IAAqB,mBAAVT,CAAU,IAA6B,mBAAVA,CAAnB,IAA0D,oBAAVA,CAArE,EAAqEA;AAWrE,iBAAIQ,EAAMtB,QAAV,EAEA,UAAUyB,SAAV,CAAoB,eAAeH,EAAMzE,IAArB,GAA4B,UAA5B,IAA0CyE,EAAMrB,MAANqB,GAAe,UAAfA,GAA4B,UAAtE,CAApB;AAA0F,WAb1F;AAGE,gBAFAC,IAAUJ,EAAOS,OAAOd,CAAPc,CAAPT,EAAsBG,CAAtBH,CAAVI,EAEIF,MAAaN,EAAQJ,CAARI,EAAWY,IAAXZ,CAAgBQ,CAAhBR,CAAjB,EACE,UAAUU,SAAV,CAAoB,eAAeH,EAAMzE,IAArB,GAA4B,cAA5B,GAA6CyE,EAAMxB,OAAnD,GAA6D,cAA7D,GAA8EyB,CAA9E,GAAwF,GAA5G;AAGF7C,iBAAQ4C,EAAMvB,MAANuB,GAAeC,CAAvB7C;AAAuB6C;AAAAA,SAvCzB,MACE7C,KAAQ4C,CAAR5C;AA+CJ;;AAAA,aAAOA,CAAP;AAAOA,KAxDT;AAkEF;;AAAA,WAASyB,CAAT,CAAuB/B,CAAvB,EAAuBA;AACrB,WAAOA,EAAIyD,OAAJzD,CAAY,2BAAZA,EAAyC,MAAzCA,CAAP;AASF;;AAAA,WAAS8B,CAAT,CAAsBV,CAAtB,EAAsBA;AACpB,WAAOA,EAAMqC,OAANrC,CAAc,cAAdA,EAA8B,MAA9BA,CAAP;AASF;;AAAA,WAASyB,CAAT,CAAgB5C,CAAhB,EAAgBA;AACd,WAAOA,KAAWA,EAAQyD,SAAnBzD,GAA+B,EAA/BA,GAAoC,GAA3C;AAsEF;;AAAA,WAASN,CAAT,CAAyBQ,CAAzB,EAAiC+B,CAAjC,EAAuCjC,CAAvC,EAAuCA;AAWrC,SARA,IAAI0D,KAFJ1D,IAAUA,KAAW,EAEjB0D,EAAiBA,MAArB,EACIC,KAA0B,CAA1BA,KAAQ3D,EAAQ2D,KADpB,EAEIC,KAAsB,CAAtBA,KAAM5D,EAAQ4D,GAFlB,EAGIrD,IAAYP,EAAQO,SAARP,IAAqBL,CAHrC,EAIIkE,IAAW,GAAGxE,MAAH,CAAUW,EAAQ6D,QAAR7D,IAAoB,EAA9B,EAAkCwC,GAAlC,CAAsCV,CAAtC,EAAoDzC,MAApD,CAA2D,GAA3D,EAAgES,IAAhE,CAAqE,GAArE,CAJf,EAKIgE,IAAQH,IAAQ,GAARA,GAAc,EAL1B,EAQSrB,IAAI,CAAb,EAAgBA,IAAIpC,EAAOc,MAA3B,EAAmCsB,GAAnC,EAAwC;AACtC,UAAIW,IAAQ/C,EAAOoC,CAAPpC,CAAZ;AAEA,UAAqB,mBAAV+C,CAAX,EACEa,KAAShC,EAAamB,CAAbnB,CAATgC,CADF,KAEO;AACL,YAAI5C,IAAU+B,EAAMrB,MAANqB,GACV,QAAQA,EAAMxB,OAAd,GAAwB,MAAxB,GAAiCK,EAAamB,EAAM1C,SAAnBuB,CAAjC,GAAiE,KAAjE,GAAyEmB,EAAMxB,OAA/E,GAAyF,KAD/EwB,GAEVA,EAAMxB,OAFV;AAIIQ,aAAMA,EAAKT,IAALS,CAAUgB,CAAVhB,CAANA,EAMA6B,KAJAb,EAAMtB,QAANsB,GACGA,EAAMvB,MAANuB,GAGM,QAAQnB,EAAamB,EAAMvB,MAAnBI,CAAR,GAAqC,GAArC,GAA2CZ,CAA3C,GAAqD,KAH3D+B,GACM,MAAM/B,CAAN,GAAgB,IAFzB+B,GAOOnB,EAAamB,EAAMvB,MAAnBI,IAA6B,GAA7BA,GAAmCZ,CAAnCY,GAA6C,GATpDG;AASoD;AAK5D;;AAAA,QAAI2B,CAAJ,EACOF,MAAQI,KAAS,QAAQhC,EAAavB,CAAbuB,CAAR,GAAkC,IAAnD4B,GAELI,KAAsB,QAAbD,CAAa,GAAM,GAAN,GAAY,QAAQA,CAAR,GAAmB,GAFhDH,CADP,KAIO;AACL,UAAIK,IAAW7D,EAAOA,EAAOc,MAAPd,GAAgB,CAAvBA,CAAf;AAAA,UACI8D,IAAqC,mBAAbD,CAAa,GACrCA,EAASA,EAAS/C,MAAT+C,GAAkB,CAA3BA,MAAkCxD,CADG,GACHA,KACrBE,CADqBF,KAClCwD,CAHJ;AAKKL,YAAQI,KAAS,QAAQhC,EAAavB,CAAbuB,CAAR,GAAkC,KAAlC,GAA0C+B,CAA1C,GAAqD,KAAtEH,GACAM,MAAgBF,KAAS,QAAQhC,EAAavB,CAAbuB,CAAR,GAAkC,GAAlC,GAAwC+B,CAAxC,GAAmD,GAA5EG,CADAN;AAIP;AAAA,eAAW7D,MAAX,CAAkBiE,CAAlB,EAAyBlB,EAAM5C,CAAN4C,CAAzB;AAeF;;AAAA,WAAStD,CAAT,CAAuBe,CAAvB,EAA6B4B,CAA7B,EAAmCjC,CAAnC,EAAmCA;AACjC,WAAIK,aAAgBR,MAAhBQ,GA7HN,UAAyBA,CAAzB,EAA+B4B,CAA/B,EAA+BA;AAC7B,WAAKA,CAAL,EAAW,OAAO5B,CAAP;AAGX,UAAI4D,IAAS5D,EAAKlC,MAALkC,CAAY6D,KAAZ7D,CAAkB,WAAlBA,CAAb;AAEA,UAAI4D,CAAJ,EACE,KAAK,IAAI3B,IAAI,CAAb,EAAgBA,IAAI2B,EAAOjD,MAA3B,EAAmCsB,GAAnC,EACEL,EAAKT,IAALS,CAAU;AACRzD,cAAM8D,CADE;AAERZ,gBAAQ,IAFA;AAGRnB,mBAAW,IAHH;AAIRoB,mBAAU,CAJF;AAKRC,iBAAQ,CALA;AAMRH,iBAAS;AAND,OAAVQ;AAWJ,aAAO5B,CAAP;AA2GS8D,KA9HX,CA8H0B9D,CA9H1B,EA8HgC4B,CA9HhC,CA6HM5B,GAIAsC,MAAMQ,OAANR,CAActC,CAAdsC,IAnGN,UAAwBtC,CAAxB,EAA8B4B,CAA9B,EAAoCjC,CAApC,EAAoCA;AAGlC,WAFA,IAAIoE,IAAQ,EAAZ,EAES9B,IAAI,CAAb,EAAgBA,IAAIjC,EAAKW,MAAzB,EAAiCsB,GAAjC,EACE8B,EAAM5C,IAAN4C,CAAW9E,EAAae,EAAKiC,CAALjC,CAAbf,EAAsB2C,CAAtB3C,EAA4BU,CAA5BV,EAAqCnB,MAAhDiG;;AAGF,iBAAWvE,MAAX,CAAkB,QAAQuE,EAAMtE,IAANsE,CAAW,GAAXA,CAAR,GAA0B,GAA5C,EAAiDxB,EAAM5C,CAAN4C,CAAjD;AA6FSyB,KApGX,CAoGgDhE,CApGhD,EAoGuD4B,CApGvD,EAoG6DjC,CApG7D,CAmGM2C,GAjFN,UAAyBtC,CAAzB,EAA+B4B,CAA/B,EAAqCjC,CAArC,EAAqCA;AACnC,aAAON,EAAeF,EAAMa,CAANb,EAAYQ,CAAZR,CAAfE,EAAqCuC,CAArCvC,EAA2CM,CAA3CN,CAAP;AAoFO4E,KArFT,CAqF+CjE,CArF/C,EAqFsD4B,CArFtD,EAqF4DjC,CArF5D,CA6EE;AAQ0DA;;AAAAA,YAzR5D,UAAgBD,CAAhB,EAAqBC,CAArB,EAAqBA;AACnB,QAAIiC,IAAO,EAAX;AAEA,WAAO1C,EADED,EAAaS,CAAbT,EAAkB2C,CAAlB3C,EAAwBU,CAAxBV,CACFC,EAAqB0C,CAArB1C,CAAP;AAA4B0C,GAsR8BjC,EAtR9BiC,sBAsR8BjC,EAtR9BiC,WAsR8BjC,EAtR9BiC,YAV9B,UAAkBlC,CAAlB,EAAuBC,CAAvB,EAAuBA;AACrB,WAAOP,EAAiBD,EAAMO,CAANP,EAAWQ,CAAXR,CAAjBC,EAAsCO,CAAtCP,CAAP;AAA6CO,GA+RaA,EA/RbA,sBA+RaA,EA/RbA,oBA+RaA;;AA/RbA,MCxGlCuE,IAAoC;AAC/CC,eAAW,WADoC;AAE/CC,aAAS,SAFsC;AAG/CC,eAAW,WAHoC;AAI/ChD,YAAQ,YAJuC;AAK/CiD,aAAS,SALsC;AAM/CC,aAAS;AANsC,GDwGF5E;AAAAA,MEqEzC6E,IAAM;AAzKZ;AACUzG,eAA0BmG,CAA1BnG,EACAA,SAAqB,IAAI0G,SAAJ,EADrB1G;AADV;;AAAA;AAAA,aAOS2G,QAPT,GAOSA,UAASC,CAATD,EAASC;AACd,aAAOA,EAAGC,SAAV;AAAUA,KARd,EAQcA,EAQLC,UARKD,GAQLC,UAAWC,CAAXD,EAAWC;AAChB,kBAAYC,CAAZ,CAAoBC,eAApB,CAAoCF,CAApC,EAAgD,WAAhD;AAAgD,KAjBpD,EAiBoD,EAS3CG,SAT2C,GAS3CA,UAAUH,CAAVG,EAAUH;AACf,UAAMI,IAAMC,SAASC,aAATD,CAAuB,KAAvBA,CAAZ;AAGA,aADAD,EAAIG,SAAJH,GAAgBJ,CAAhBI,EACOA,CAAP;AAAOA,KA9BX,EA8BWA,EAMFI,OANEJ,GAMFI,UAAQC,CAARD,EAAQC;AACb,wBADaA,CACb,KADaA,IAAoBJ,QACjC,GADiCA,KACrBT,QADqBS,CACZI,EAAIC,eADQL,CACjC;AAAyBK,KArC7B,EAqC6BA,EAapBC,UAboBD,GAapBC,UAAWC,CAAXD,EAAWC;AAChB,wBADgBA,CAChB,KADgBA,IAAeP,QAC/B,GAAOO,EAAMC,aAAND,CAAMC,MACP5H,KAAK6H,CAAL7H,CAAWsD,MADJsE,GACItE,IADJsE,GACe5H,KAAK6H,CAAL7H,CAAWwG,OAD1BoB,GAC0BpB,IADhCmB,CAAP;AACuCnB,KApD3C,EAoD2CA,EAOlCsB,YAPkCtB,GAOlCsB,UAAaH,CAAbG,EAAaH;AAClB,wBADkBA,CAClB,KADkBA,IAAeP,QACjC,GAAOO,EAAMC,aAAND,CAAMC,MACP5H,KAAK6H,CAAL7H,CAAWsD,MADJsE,GACItE,IADJsE,GACe5H,KAAK6H,CAAL7H,CAAWoG,SAD1BwB,GAC0BxB,IADhCuB,CAAP;AACuCvB,KA7D3C,EA6D2CA,EAOlC2B,eAPkC3B,GAOlC2B,UAAgB3B,CAAhB2B,EAAgB3B;AACjBgB,eAASlI,IAATkI,CAAcY,QAAdZ,CAAuBhB,CAAvBgB,KACFhB,EAAU6B,UAAV7B,CAAqB8B,WAArB9B,CAAiCA,CAAjCA,CADEgB;AAC+BhB,KAtEvC,EAsEuCA,EAO9B+B,YAP8B/B,GAO9B+B,UAAa/B,CAAb+B,EAAqC3B,CAArC2B,EAAqC3B;AAC1C,UAAM4B,IAAoBpI,KAAK8H,YAAL9H,EAA1B;AAEIoI,UACFpI,KAAKqI,CAALrI,CAAkBoG,CAAlBpG,EAA6BoI,CAA7BpI,CADEoI,GAGF5B,EAAQ8B,WAAR9B,CAAoBJ,CAApBI,CAHE4B;AAGkBhC,KAnF1B,EAmF0BA,EAOjBmC,YAPiBnC,GAOjBmC,UAAaZ,CAAbY,EAAaZ;AAAAA,2BAAeP,QAAfO;AAClB,UAAMa,IAAKb,EAAMC,aAAND,CAAMC,MACX5H,KAAK6H,CAAL7H,CAAWsD,MADAsE,GACAtE,GADAsE,GACU5H,KAAK6H,CAAL7H,CAAWsG,SADrBsB,GACqBtB,GAD3BqB,CAAX;AAIA,aAAOa,IACHA,EAAGC,YAAHD,CAAmBxI,KAAK6H,CAAL7H,CAAWsD,MAAXtD,GAAWsD,GAAXtD,GAAqBA,KAAK6H,CAAL7H,CAAWsG,SAAnDkC,CADGA,GAEH,IAFJ;AAEI,KAjGR,EAiGQ,EAMCE,OAND,GAMCA,UAAQ9B,CAAR8B,EAAQ9B;AAEb,UAAIA,EAAG+B,OAAH/B,IAA2C,QAA7BA,EAAG+B,OAAH/B,CAAWgC,WAAXhC,EAAlB,EAAoD;AAElD,YAAuB,mBAAZA,EAAGiC,IAAd,EACE,OAAOjC,EAAGiC,IAAV;AAIF,YAAMA,IAAOjC,EAAG6B,YAAH7B,CAAgB,MAAhBA,KAA2BA,EAAG6B,YAAH7B,CAAgB,YAAhBA,CAAxC;AAGA,YAAIiC,CAAJ,EAKE,YAAYC,UAAZ,CAFID,EAAuCE,OAAvCF,IAAkDA,CAEtD;AAGJ;;AAAA;AAAA,KA3HJ,EA2HI,EAOKC,UAPL,GAOKA;AAAAA,qCAAcE,gBAAdF,EAAcE,KAAdF,EAAcE,KAAdF,EAAcE,GAAdF,EAAcE;;AACnB,UAAMC,IAAUD,EAAKpG,MAArB;AAEA,UAAgB,MAAZqG,CAAJ,EACE,UAAUC,KAAV,CAAgB,sDAAhB;AAGF,UAAMC,IAAO/B,SAASC,aAATD,CAAuB,MAAvBA,CAAb;AAGA,UAFA+B,EAAKN,IAALM,GAAYC,UAAU,CAAVA,CAAZD,EAEgB,MAAZF,CAAJ,EACE,OAAOE,EAAKN,IAAZ;AAGF,UAAMQ,IAAOjC,SAASkC,oBAATlC,CAA8B,MAA9BA,EAAsC,CAAtCA,CAAb;AACAiC,QAAKE,YAALF,CAAkBF,CAAlBE,EAAwBA,EAAKG,UAA7BH;;AAKA,WAHA,IACII,CADJ,EAAMC,IAAItC,SAASC,aAATD,CAAuB,GAAvBA,CAAV,EAGSpF,IAAQ,CAAjB,EAAoBA,IAAQiH,CAA5B,EAAqCjH,GAArC,EACE0H,EAAEb,IAAFa,GAASN,UAAUpH,CAAVoH,CAATM,EAEAP,EAAKN,IAALM,GADAM,IAAWC,EAAEb,IADba;;AAOF,aAFAL,EAAKnB,WAALmB,CAAiBF,CAAjBE,GAEOI,CAAP;AAAOA,KA9JX,EA8JWA,EAMDpB,CANCoB,GAMDpB,UAAasB,CAAbtB,EAA4BuB,CAA5BvB,EAA4BuB;AAClCA,QAAc3B,UAAd2B,CAAyBL,YAAzBK,CAAsCD,CAAtCC,EAA+CA,EAAcC,WAA7DD;AAA6DC,KArKjE,EAqKiEA,CArKjE;AAqKiEA,GAIrD,KFrEmCjI;AAAAA,MGoJzCyE,IAAU;AAzNhB;AAEUrG,eAAwB,EAAxBA,EACAA,UAAY,CADZA;AAFV;;AAAA;AAAA,aAQS8J,IART,GAQSA,UAAKC,CAALD,EAAkBtB,CAAlBsB,EAAkBtB;AACvBxI,WAAKgK,CAALhK,GAAgB,OAAhBA;AACA,UAEMiK,IAAoB;AACxBzB,aADwB;AAExB0B,gBAAQ;AACNC,aAAGC,OAAOC,OADJ;AAENC,aAAGF,OAAOG;AAFJ,SAFgB;AAMxBR;AANwB,OAF1B;AAWA/J,WAAKwK,CAALxK,CAAaoD,IAAbpD,CAAkBiK,CAAlBjK,GACAA,KAAKyK,CAALzK,GAZc,CAWdA;AAGA,UAAM0K,IAAqB;AACzBC,cAAM3K,KAAKgK,CADc;AAEzBhI,eAhBY,CAca;AAGzB4I,0BAAY5K,KAAKwK,CAAjBI;AAHyB,OAA3B;AAMAR,aAAO/D,OAAP+D,IAAkBA,OAAO/D,OAAP+D,CAAeS,YAAfT,CAA4BM,CAA5BN,EAAkC,EAAlCA,EAAsCL,CAAtCK,CAAlBA;AAAwDL,KA9B5D,EA8B4DA,EAGnDe,MAHmDf,GAGnDe,UACLf,CADKe,EAELC,CAFKD,EAGLzL,CAHKyL,EAGLzL;AAEA,UAAIA,KAAMA,EAAoB4K,KAA9B,EAAqC;AAAA,YAG3BA,IAAmC5K,EAAnC4K,KAH2B;AAAA,YAI3BjI,IAAUiI,EAAVjI,KAJ2B;AAOnC+I,YAAU/K,KAAKgL,CAALhL,CAFGA,KAAKyK,CAALzK,GAAgBgC,CAEnBhC,CAAV+K,EAGA/K,KAAKoF,OAALpF,CAAaiK,EAAMW,MAAnB5K,CAHA+K,EAIA/K,KAAKyK,CAALzK,GAAgBgC,CAJhB+I;AAIgB/I,OAXlB,MAcEhC,KAAKiL,GAALjL,CAAS+J,CAAT/J,EAAc+K,CAAd/K;;AAGF,aAAO+K,CAAP;AAAOA,KAvDX,EAuDWA,EAMFE,GANEF,GAMFE,UAAIlB,CAAJkB,EAAiBF,CAAjBE,EAAiBF;AAEtB,UACM/I,IAAQhC,KAAKkL,IADnB;AAAA,UAEMC,IAASnL,KAAKoL,CAALpL,CAAgB+K,CAAhB/K,CAFf;AAAA,UAGMiK,IAAoB;AACxBzB,YAJS,KAGe;AAExB0B,gBAAQ;AACNC,aAAGC,OAAOC,OADJ;AAENC,aAAGF,OAAOG;AAFJ,SAFgB;AAMxBR;AANwB,OAH1B;AAYA/J,WAAKwK,CAALxK,CAAaoD,IAAbpD,CAAkBiK,CAAlBjK,GACAA,KAAKyK,CAALzK,GAAgBgC,CADhBhC;AAGA,UAAM0K,IAAqB;AACzBC,cAAM3K,KAAKgK,CADc;AAEzBhI,gBAFyB;AAGzB4I,0BAAY5K,KAAKwK,CAAjBI;AAHyB,OAA3B;;AAMA,cAAQO,CAAR;AACE,aAAK,MAAL;AACEf,iBAAO/D,OAAP+D,IAAkBA,OAAO/D,OAAP+D,CAAeiB,SAAfjB,CAAyBM,CAAzBN,EAA+B,EAA/BA,EAAmCL,CAAnCK,CAAlBA;AACA;;AACF,aAAK,SAAL;AACEA,iBAAO/D,OAAP+D,IAAkBA,OAAO/D,OAAP+D,CAAeS,YAAfT,CAA4BM,CAA5BN,EAAkC,EAAlCA,EAAsCL,CAAtCK,CAAlBA;AALJ;AAK4DL,KAzFhE,EAyFgEA,EAUvDuB,MAVuDvB,GAUvDuB,UAAO7G,CAAP6G,EAAkBpH,CAAlBoH,EAAkBpH;AACvB,UAAMlC,IAAQkC,KAAKlE,KAAKyK,CAAxB;AAAA,UAEMR,UADWjK,KAAKuL,GAALvL,CAASgC,CAAThC,CACXiK,EADoBjI,EACpBiI,EAEDxF,CAFCwF,CAFN;AAOAjK,WAAKwL,GAALxL,CAASgC,CAAThC,EAAgBiK,CAAhBjK;AAAgBiK,KA3GpB,EA2GoBA,EAMXwB,MANWxB,GAMXwB,UAAOvH,CAAPuH,EAAOvH;AACRA,UACFlE,KAAKwK,CAALxK,CAAa0L,MAAb1L,CAAoBkE,CAApBlE,EAAuB,CAAvBA,CADEkE,GAGFlE,KAAKwK,CAALxK,CAAa2L,GAAb3L,EAHEkE,EAMJlE,KAAKyK,CAALzK,EANIkE;AAMCuG,KAxHT,EAwHSA,EAMAmB,KANAnB,GAMAmB;AACL5L,WAAKwK,CAALxK,GAAe,EAAfA,EACAA,KAAKyK,CAALzK,GAAKyK,CAAY,CADjBzK;AACiB,KAhIrB,EAgIqB,EAMZoF,OANY,GAMZA,UAAQyG,CAARzG,EAAQyG;AACb7L,WAAKwK,CAALxK,GAAe6L,CAAf7L;AAAe6L,KAvInB,EAuImBA,EAMVN,GANUM,GAMVN,UAAIvJ,CAAJuJ,EAAIvJ;AACT,kBAAYwI,CAAZ,CAAoBxI,CAApB;AAAoBA,KA9IxB,EA8IwBA,EAMfwJ,GANexJ,GAMfwJ,UAAItH,CAAJsH,EAAevB,CAAfuB,EAAevB;AACpB,kBAAaO,CAAb,CAAqBtG,CAArB,IAA0B+F,CAA1B;AAA0BA,KArJ9B,EAqJ8BA,EAkCpBmB,CAlCoBnB,GAkCpBmB,UAAWL,CAAXK,EAAWL;AACjB,UAAII,IAAwB,MAA5B;AAAA,UAIMvE,IAAKmE,CAJX;AAAA,UAKMe,IAAU3F,EAAgB7C,MAAhB6C,GAAgB7C,GAAhB6C,GAA0BA,EAAgBE,OAL1D;AAWA,aAJIO,EAAGmF,YAAHnF,IAAmBA,EAAGmF,YAAHnF,CAAgBkF,CAAhBlF,CAAnBA,KACFuE,IAASvE,EAAG6B,YAAH7B,CAAgBkF,CAAhBlF,CADPA,GAIGuE,CAAP;AAAOA,KAnMX,EAmMWA,EAMDH,CANCG,GAMDH,UAAcgB,CAAdhB,EAAcgB;AAEpB,aAAIC,KAAKC,GAALD,CAASD,CAATC,IAAiB,CAAjBA,GAEKD,IAAO,CAAPA,GAAW,SAAXA,GAAuB,MAF5BC,GAIW,MAATD,CAAS,GACJ,UADI,GAIJA,IAAO,CAAPA,GAAW,MAAXA,GAAoB,SAR/B;AAQ+B,KAnNnC,EAmNmC;AAAA;AAAA;AAvD/B,oBAAYxB,CAAZ,CAAoBxK,KAAKyK,CAAzB;AAAyBA;AAuDM,OAvDNA;AAAAA;AAAAA;AAOzB,oBAAYD,CAAZ,CAAoBxK,KAAKwK,CAALxK,CAAa4C,MAAb5C,GAAsB,CAA1C;AAA0C;AAPjByK,KAuDM,EAhDW;AAAA;AAAA;AAO1C,oBAAYA,CAAZ,GAAuB,CAAvB,GAA2B,IAA3B,GAAkCzK,KAAKwK,CAALxK,CAAaA,KAAKyK,CAALzK,GAAgB,CAA7BA,CAAlC;AAA+D;AAPrB,KAgDX,EAzCgC;AAAA;AAAA;AAO/D,oBAAYwK,CAAZ,CAAoB5H,MAApB;AAAoBA;AAP2C,KAyChC,EAnNnC,EAiLwBA,CAjLxB;AAiLwBA,GAwCR,KHpJ+BhB;AAAAA,MIjGlC0J,cACXa,CADWb,EAEX7G,CAFW6G,EAEX7G;AAAAA;AAAAA;AAAAA,aAGKA,EAAK2H,IAAL3H,CAAU4H,IAHf5H,EAGe4H,uBACMF,CADNE,EACMF,IADNE,CACMF,UAAbE,CAAaF,EAAbE;AAAAA,cACED,IAAS3H,EAAT2H,IADFC;;AACED,cAEJC,CAFID,EAEJC;AAGF,gBAAMC,IAAe7F,EAAIS,SAAJT,CAAc4F,CAAd5F,CAArB;AAEA2F,cAAK9F,SAAL8F,GAAiB3F,EAAI8B,YAAJ9B,CAAiB6F,CAAjB7F,CAAjB2F,EACAA,EAAKhG,SAALgG,GAAiB3F,EAAIqB,YAAJrB,CAAiB6F,CAAjB7F,CADjB2F,EAKAA,EAAKC,IAALD,GAAYC,CALZD,EAQA/F,EAAQiF,MAARjF,CAAe;AAAEmC,kBAAI4D,EAAK9F;AAAX,aAAfD,CARA+F;AAQ0B9F,oBAGRG,EAAIK,UAAJL,CAAe4F,CAAf5F,CAHQH;AAK1Bc,qBAASmF,KAATnF,GAASmF,EAFDA,KAERnF;AAFQmF;AAAAA,SApBGF;AAoBHE,OAvBZ9H;;AAuBY8H;AAzBK,KAEjB9H,CAFiB;AAAA;AAAA;AAAA,GJiG4B7C;AAAAA,MI7CzCV,IAAesL,CJ6C0B5K;AAAAA,MI7C1B4K;AAAAA;AAAAA;AAAAA,cAjBG;AAAA,iBAClBC,OADkB,CACV;AACVrC,eAAOsC,qBAAPtC,CAA6BuC,CAA7BvC;AAA6BuC,OAFT;AAESA,KAeZH;AAfYG;AAeZH,GJ6C0B5K;AAAAA,MKlGlCgL,IAAY;AAAA,WAAMxC,OAAOyC,QAAPzC,CAAgB0C,MAAtB;AAAsBA,GLkGAlL;AAAAA,MK7FlCmL,IAAU,UAAChD,CAAD,EAACA;AAAAA,gCAAcK,OAAOyC,QAAPzC,CAAgBvB,IAA9BkB,GAAuC3I,EAAM2I,CAAN3I,EAAW4L,IAAlDjD;AAAkDiD,GL6F3BpL;AAAAA,MKzElCR,IAAQ,UAAC2I,CAAD,EAACA;AAEpB,QAAIiD,CAAJ;AAAA,QACM1I,IAAUyF,EAAIjE,KAAJiE,CAAU,MAAVA,CADhB;AAGA,QAAgB,SAAZzF,CAAJ,EACM,QAAQY,IAAR,CAAa6E,CAAb,MACFiD,IAAO,EADL,GAIA,SAAS9H,IAAT,CAAc6E,CAAd,MACFiD,IAAO,GADL,CAJA,CADN,KAQO;AACL,UAAMC,IAAa3I,EAAQ,CAARA,EAAW4I,SAAX5I,CAAqB,CAArBA,CAAnB;AAEA0I,UAAOG,SAASF,CAATE,EAAqB,EAArBA,CAAPH;AAIF;AAAA,QACII,CADJ;AAAA,QAAInL,IAAO8H,EAAI3E,OAAJ2E,CAAY6C,GAAZ7C,EAAyB,EAAzBA,CAAX;AAAA,QAEIsD,IAAQ,EAFZ;AAAA,QAKMC,IAAYrL,EAAKkB,OAALlB,CAAa,GAAbA,CALlB;AAOIqL,SAAa,CAAbA,KACFF,IAAOnL,EAAKU,KAALV,CAAWqL,IAAY,CAAvBrL,CAAPmL,EACAnL,IAAOA,EAAKU,KAALV,CAAW,CAAXA,EAAcqL,CAAdrL,CAFLqL;AAMJ,QAAMC,IAAatL,EAAKkB,OAALlB,CAAa,GAAbA,CAAnB;AAOA,WALIsL,KAAc,CAAdA,KACFF,IAAQG,EAAWvL,EAAKU,KAALV,CAAWsL,IAAa,CAAxBtL,CAAXuL,CAARH,EACApL,IAAOA,EAAKU,KAALV,CAAW,CAAXA,EAAcsL,CAAdtL,CAFLsL,GAKG;AACLH,aADK;AAELnL,aAFK;AAGL+K,aAHK;AAILK;AAJK,KAAP;AAIEA,GL6B2CzL;AAAAA,MKtBlC4L,IAAa,UAAC7L,CAAD,EAACA;AAAAA,WACzBA,EAAIwC,KAAJxC,CAAU,GAAVA,EAAe8L,MAAf9L,CAAsB,UAAC+L,CAAD,EAAsB9G,CAAtB,EAAsBA;AAAAA,cACrBA,EAAGzC,KAAHyC,CAAS,GAATA,CADqBA;AAK1C,aAFA8G,gBAEOA,CAAP;AAAOA,KALT/L,EAMG,EANHA,CADyBA;AAOtB,GLe0CC;AAAAA,MKVlC+L,IAAQ,UAAC5D,CAAD,EAACA;AAAAA,gCAAcK,OAAOyC,QAAPzC,CAAgBvB,IAA9BkB,GACpBA,EAAI3E,OAAJ2E,CAAY,iBAAZA,EAA+B,EAA/BA,CADoBA;AACW,GLScnI;AAAAA,MKTd;AAAA;AAAA,aA9FV;AAAA,aAAMwI,OAAOyC,QAAPzC,CAAgBvB,IAAtB;AAAsBA,KA8FZ;AA9FYA,gBA8FZ;AA9FYA,cA8FZ;AA9FYA,aAetB,UAACkB,CAAD,EAACA;AAAAA,kCAAcK,OAAOyC,QAAPzC,CAAgBvB,IAA9BkB,GAAuC3I,EAAM2I,CAAN3I,EAAWa,IAAlD8H;AAAkD9H,KA+EzC;AA/EyCA,YA+EzC;AA/EyCA,iBA+EzC;AA/EyCA;AA+EzC,GLScL;;AMnG/C,WAASgM,CAAT,CACE7D,CADF,EAEE8D,CAFF,EAGEC,CAHF,EAGEA;AAEA,sBAHAD,CAGA,KAHAA,IAAc,GAGd,GAHc,IAGHpB,OAHG,CAGK,UAACE,CAAD,EAAUoB,CAAV,EAAUA;AAC3B,UAAMC,IAAM,IAAIC,cAAJ,EAAZ;AAEAD,QAAIE,kBAAJF,GAAyB;AACvB,YAAIA,EAAIG,UAAJH,KAAmBC,eAAeG,IAAtC,EACE,IAAmB,QAAfJ,EAAIK,MAAR,EACE1B,EAAQqB,EAAIM,YAAZ3B,EADF,KACc2B,IACHN,EAAIK,MADDC,EACS;AAErB,cAAMzM,IAAM;AACVwM,oBAAQL,EAAIK,MADF;AAEVE,wBAAYP,EAAIO;AAFN,WAAZ;AAIAT,YAAa/D,CAAb+D,EAAkBjM,CAAlBiM,GACAC,EAAOlM,CAAPkM,CADAD;AACOjM;AAAAA,OAXbmM,EAeAA,EAAIQ,SAAJR,GAAgB;AACd,YAAMS,IAAM,IAAIvF,KAAJ,CAAIA,oBAAwB2E,CAAxB3E,GAAwB2E,GAA5B,CAAZ;AACAC,UAAa/D,CAAb+D,EAAkBW,CAAlBX,GACAC,EAAOU,CAAPV,CADAD;AACOW,OAlBTT,EAoBAA,EAAIU,OAAJV,GAAc;AACZ,YAAMS,IAAM,IAAIvF,KAAJ,CAAIA,aAAJ,CAAZ;AACA4E,UAAa/D,CAAb+D,EAAkBW,CAAlBX,GACAC,EAAOU,CAAPV,CADAD;AACOW,OAvBTT,EA0BAA,EAAIW,IAAJX,CAAS,KAATA,EAAgBjE,CAAhBiE,CA1BAA,EA2BAA,EAAIY,OAAJZ,GAAcH,CA3BdG,EA4BAA,EAAIa,gBAAJb,CACE,QADFA,EAEE,iDAFFA,CA5BAA,EAgCAA,EAAIa,gBAAJb,CAAqB,SAArBA,EAAgC,KAAhCA,CAhCAA,EAiCAA,EAAIc,IAAJd,EAjCAA;AAiCIc,KAvCQ,CAGd;AC3BF;;AAAA,UAEA,UAAmBC,CAAnB,EAAmBA;AACjB,aAASA,CAAT,KAAgC,mBAARA,CAAQ,IAA2B,qBAARA,CAAnD,KAA8F,qBAAbA,EAAIzP,IAArF;AAAqFA,GAHvF;;AAGuFA,WCCvE0P,CDDuE1P,CCErF2P,CDFqF3P,ECGrF4P,CDHqF5P,ECGrF4P;AAEA,sBAFAA,CAEA,KAFAA,IAAW,EAEX,GAFW;AAAA,qCAEAC,gBAFA,EAEAA,KAFA,EAEAA,KAFA,EAEAA,GAFA,EAEAA;;AACT,UAAIC,KAAQ,CAAZ;AAAA,UAEMC,IAAU,IAAI5C,OAAJ,CAAY,UAACE,CAAD,EAAUoB,CAAV,EAAUA;AAEpCmB,UAAIE,KAAJF,GAAY;AAGV,iBAFAE,KAAQ,CAARA,EAAQ,UAEAX,CAFA,EAEUpK,CAFV,EAEUA;AACZoK,gBACFV,EAAOU,CAAPV,CADEU,GAGF9B,EAAQtI,CAARsI,CAHE8B;AAGMpK,WAJZ;AAIYA,SAPd6K;;AAYA,YAAMI,IAASL,EAAKjO,KAALiO,CAAWC,CAAXD,EAAgBE,CAAhBF,CAAf;AAEKG,cACCG,EAAUD,CAAVC,IACDD,EAAwBhQ,IAAxBgQ,CAA6B3C,CAA7B2C,EAAsCvB,CAAtCuB,CADCC,GAGF5C,EAAQ2C,CAAR3C,CAJCyC;AAIOE,OApBE,CAFhB;AA2BA,aAAOD,CAAP;AAAOA,KA5BT;AA4BSA;;AAAAA,MCuGLG,IAAQ;AAnEZ;AAAA;AAAA,cACEC,wBADF,EACEA,MADF,GAnCwB,IAAI3P,CAAJ,CAAW,aAAX,CAmCxB,EA5BO2P,QAAkB,CACvB,OADuB,EAEvB,MAFuB,EAGvB,OAHuB,EAIvB,cAJuB,EAKvB,gBALuB,EAMvB,WANuB,EAOvB,aAPuB,EAQvB,YARuB,EASvB,MATuB,EAUvB,WAVuB,EAWvB,QAXuB,EAYvB,aAZuB,EAavB,OAbuB,EAcvB,YAduB,EAevB,aAfuB,EAgBvB,OAhBuB,EAiBvB,YAjBuB,EAkBvB,OAlBuB,CA4BzB,EAFOA,eAA6C,IAAIC,GAAJ,EAEpD,EAEED,EAAK3F,IAAL2F,EAFF,EAEO3F,CAFP;AAEOA;;AAAAA;AA3CT;AAAA,aA8CSA,IA9CT,GA8CSA;AAAAA;AACL9J,WAAK2P,UAAL3P,CAAgB4L,KAAhB5L,IACAA,KAAK4P,GAAL5P,CAAS6P,OAAT7P,CAAiB;AACV8P,UAAKC,CAALD,MACHA,EAAKC,CAALD,IAAa,UAAChP,CAAD,EAAmBoO,CAAnB,EAAmBA;AACzBY,YAAKH,UAALG,CAAgBE,GAAhBF,CAAoBC,CAApBD,KACHA,EAAKH,UAALG,CAAgBtE,GAAhBsE,CAAoBC,CAApBD,EAA0B,IAAIG,GAAJ,EAA1BH,CADGA,EAGOA,EAAKH,UAALG,CAAgBvE,GAAhBuE,CAAoBC,CAApBD,EAER7E,GAFQ6E,CAEJ;AACNZ,iBAAKA,KAAO,EADN;AAENpO;AAFM,WAFIgP,CAHPA;AAOHhP,SATDgP;AASChP,OAVRd,CADAA;AAWQc,KA1DZ,EA0DYA,OAYH,UAAGV,CAAH,EAAGA;AAAAA,+CAAmB+O,gCAAnB/O,EAAmB+O,KAAnB/O,EAAmB+O,KAAnB/O,EAAmB+O,GAAnB/O,EAAmB+O;;AAC3B,UAAInP,KAAK2P,UAAL3P,CAAgBgQ,GAAhBhQ,CAAoBI,CAApBJ,CAAJ,EAA+B;AAE7B,YAAIkQ,IAAQzD,QAAQE,OAARF,EAAZ;AAOA,eALAzM,KAAK2P,UAAL3P,CAAgBuL,GAAhBvL,CAAoBI,CAApBJ,EAA0B6P,OAA1B7P,CAAkC;AAEhCkQ,cAAQA,EAAM5Q,IAAN4Q,CAAW;AAAA,mBAAMlB,EAASe,EAAKjP,EAAdkO,EAAkBe,EAAKb,GAAvBF,EAAuBE,KAAvBF,CAAuBE,MAAvBF,EAA+BG,CAA/BH,CAAN;AAAqCG,WAAhDe,CAARA;AAAwDf,SAF1DnP,GAKOkQ,QAAY;AACjBC,YAAKC,MAALD,CAAYvP,KAAZuP,CAAYvP,iBAAqBR,CAArBQ,GAAqBR,GAAjC+P,GACAA,EAAKC,MAALD,CAAY9P,KAAZ8P,CAAkB9P,CAAlB8P,CADAA;AACkB9P,SAFb6P,CAAP;AAMF;;AAAA,aAAOzD,QAAQE,OAARF,EAAP;AAAeE,KAtFnB,EAsFmBA,EAGVf,KAHUe,GAGVf;AAAAA;AACL5L,WAAK4P,GAAL5P,CAAS6P,OAAT7P,CAAiB;AAAA,eACRqQ,EAAKN,CAALM,CADQ;AACHN,OADd/P,GAIAA,KAAK8J,IAAL9J,EAJAA;AAIK8J,KA9FT,EA8FSA,EAMAwG,IANAxG,GAMAwG;AACLtQ,WAAKoQ,MAALpQ,CAAYW,IAAZX,CAAYW,sBAAyBX,KAAK4P,GAAL5P,CAAS0B,IAAT1B,CAAc,GAAdA,CAArCA;AACA,UAAM2P,IAAuB,EAA7B;AACA3P,WAAK2P,UAAL3P,CAAgB6P,OAAhB7P,CAAwB,UAACqE,CAAD,EAAQtC,CAAR,EAAQA;AAAAA,eAAQ4N,EAAWvM,IAAXuM,CAAgB5N,CAAhB4N,CAAR5N;AAAwBA,OAAxD/B,GACAA,KAAKoQ,MAALpQ,CAAYW,IAAZX,CAAYW,uBAA0BgP,EAAWjO,IAAXiO,CAAgB,GAAhBA,CAAtC3P,CADAA;AACsD,KAxG1D,EAwG0D,CAxG1D;AAwG0D,GAI5C,CA5GaL,CA4Gb,IDvGH0P;AAAAA,MEhBEkB;AAIX,eAAYC,CAAZ,EAAYA;AACV,UAHMxQ,SAA2B,EAA3BA,EAGgB,oBAAXwQ,CAAX,EACExQ,KAAKyQ,CAALzQ,GAAkBwQ,CAAlBxQ,CADF,KAEO;AACL,YAAM0Q,IAAQnM,MAAMQ,OAANR,CAAciM,CAAdjM,IAAwBiM,CAAxBjM,GAAiC,CAACiM,CAAD,CAA/C;AAEAxQ,aAAK2Q,CAAL3Q,GAAsB0Q,EAAMtM,GAANsM,CAAU;AAAA,iBAAKxP,EAAa0P,CAAb1P,CAAL;AAAkB0P,SAA5BF,CAAtB1Q;AAAkD4Q;AAAAA;;AAAAA,uBAI/CC,SAJ+CD,GAI/CC,UAAUhI,CAAVgI,EAAUhI;AACf,UAA+B,yBAAf4H,CAAhB,EACE,YAAYA,CAAZ;AAAYA,UAGNxO,IAASb,EAAMyH,CAANzH,EAATa,IAHMwO;AAKd,kBAAYE,CAAZ,CAA2BG,IAA3B,CAAgC;AAAA,eAA8B,SAArBC,EAAMxO,IAANwO,CAAW9O,CAAX8O,CAAT;AAAoB9O,OAApD;AAAoDA,KAXA2O,EAWA3O,CAXA2O;AAWA3O,GArB3CsO,EFgBFlB;AAAAA,MGpBE2B;AAGX,eAAYR,CAAZ,EAAYA;AAAAA;AAAAA,cACVf,iBAAMe,CAANf,KAAMe,IADIA,EACJA,CADIA,GAF8B,IAAId,GAAJ,EAE9Bc,EAFkCd,CAElCc;AAFkCd;;AAAAA;AADhD;AAAA,aAUSlE,GAVT,GAUSA,UACL3C,CADK2C,EAELoC,CAFKpC,EAGLL,CAHKK,EAGLL;AAOA,aALAnL,KAAKiR,CAALjR,CAAYwL,GAAZxL,CAAgB6I,CAAhB7I,EAAsB;AACpBmL,iBADoB;AAEpByC;AAFoB,OAAtB5N,GAKO;AACLmL,iBADK;AAELyC;AAFK,OAAP;AAEEA,KAtBN,EAsBMA,EAOGrC,GAPHqC,GAOGrC,UAAI1C,CAAJ0C,EAAI1C;AACT,kBAAYoI,CAAZ,CAAmB1F,GAAnB,CAAuB1C,CAAvB;AAAuBA,KA9B3B,EA8B2BA,EAMlBqI,UANkBrI,GAMlBqI,UAAWrI,CAAXqI,EAAWrI;AAChB,kBAAYoI,CAAZ,CAAmB1F,GAAnB,CAAuB1C,CAAvB,EAA6B+E,OAA7B;AAA6BA,KArCjC,EAqCiCA,EAMxBuD,SANwBvD,GAMxBuD,UAAUtI,CAAVsI,EAAUtI;AACf,kBAAYoI,CAAZ,CAAmB1F,GAAnB,CAAuB1C,CAAvB,EAA6BsC,MAA7B;AAA6BA,KA5CjC,EA4CiCA,EAMxB6E,GANwB7E,GAMxB6E,UAAInH,CAAJmH,EAAInH;AAET,cAAI7I,KAAK6Q,SAAL7Q,CAAe6I,CAAf7I,CAAJ,IAAmB6I,KAGPoI,CAHOpI,CAGAmH,GAHAnH,CAGIA,CAHJA,CAAnB;AAGuBA,KAvD3B,EAuD2BA,WAMlB,UAAOA,CAAP,EAAOA;AACZ,kBAAYoI,CAAZ,CAAYA,MAAZ,CAA0BpI,CAA1B;AAA0BA,KA9D9B,EA8D8BA,EAMrByC,MANqBzC,GAMrByC,UAAOzC,CAAPyC,EAAqB7G,CAArB6G,EAAqB7G;AAC1B,UAAMwF,UACDjK,KAAKiR,CAALjR,CAAYuL,GAAZvL,CAAgB6I,CAAhB7I,CADCiK,EACepB,EADfoB,EAEDxF,CAFCwF,CAAN;AAMA,aAFAjK,KAAKiR,CAALjR,CAAYwL,GAAZxL,CAAgB6I,CAAhB7I,EAAsBiK,CAAtBjK,GAEOiK,CAAP;AAAOA,KA3EX,EA2EWA,CA3EX;AA2EWA,GA3EE+G,CAAcT,CAAdS,CHoBF3B;AAAAA,MIXLhE,IAA0B;AAAA,YAAOjB,OAAO/D,OAAP+D,CAAeiB,SAAtB;AAAsBA,GJW3CgE;AAAAA,MINL+B,IAAuB;AAAA,cAAGxK,EAAH,IAAGA,GAAIiC,IAAP;AAAOA,GJMzBwG;AAAAA,MIDLgC,IAAuB;AAAA,QAAGC,WAAH;AAAGA,WAC7BA,EAAwBC,KAAxBD,GAAgC,CAAhCA,IACAA,EAAwBE,OADxBF,IAEAA,EAAwBG,OAFxBH,IAGAA,EAAwBI,QAHxBJ,IAIAA,EAAwBK,MALKL;AAKLK,GJJhBtC;AAAAA,MISLuC,IAAsB;AAAA,QAAGhL,QAAH;AAAGA,WAC7BA,EAAGmF,YAAHnF,CAAgB,QAAhBA,KAAqD,aAAvBA,EAAYiL,MADbjL;AACaiL,GJVjCxC;AAAAA,MIgBLyC,IAA2B;AAAA,QAAGlL,QAAH;AAAGA,gBACMvE,CADNuE,KAChCA,EAAyBmL,QADOnL,IAEhCwD,OAAOyC,QAAPzC,CAAgB2H,QAAhB3H,KAA8BxD,EAAyBmL,QAFvBnL,IAEuBmL,KACjB1P,CADiB0P,KACvDnL,EAAyBoL,QAD8BD,IAEvD3H,OAAOyC,QAAPzC,CAAgB4H,QAAhB5H,KAA8BxD,EAAyBoL,QAJvBpL;AAIuBoL,GJpBhD3C;AAAAA,MI0BL4C,IAAyB;AAAA,QAAGrL,QAAH;AAAGA,gBACGvE,CADHuE,KAC/BA,EAAyBoG,IADMpG,IAEhCmD,QAAkBA,EAAanD,EAAyBiC,IAAtCkB,CAFcnD;AAEwBiC,GJ5B/CwG;AAAAA,MIiCL6C,IAAyB;AAAA,QAAGtL,QAAH;AAAGA,WAChCA,EAAG6B,YAAH7B,IAA0D,mBAAhCA,EAAG6B,YAAH7B,CAAgB,UAAhBA,CADMA;AACU,GJlCjCyI;AAAAA,MIuCL8C,KAA4B;AAAA,aAAGvL,EAAH,CAC7BmF,YAD6B,CACb5F,EAAgB7C,MAAhB6C,GAAgB7C,GAAhB6C,GAA0BA,EAAgBI,OAD7B;AAC6BA,GJxCpD8I;AAAAA,MI6CL+C,KAA2B;AAAA,WAC/BC,UADkCzL,EAClCyL,CACKC,OADLD,CACKC,MAAYnM,EAAgB7C,MAA5BgP,GAA4BhP,GAA5BgP,GAAsCnM,EAAgBI,OAAtD+L,GAAsD/L,SAD3D8L,EAD+B;AAE4B9L,GJ/ClD8I;AAAAA,MIuDLkD,KAAwB;AAAA,QAAG1J,UAAH;AAAGA,WAC/BkB,EAAUlB,CAAVkB,MAAoBA,GAApBA,IAAmCA,EAAYlB,CAAZkB,MAAsBA,GAD1BlB;AAC0BkB,GJxDhDsF;AAAAA,MI0DEmD;AAIX,eAAYhC,CAAZ,EAAYA;AAAAA;AAAAA,cACVf,iBAAMe,CAANf,KAAMe,IADIA,EACJA,KADIA,GAHa,EAGbA,EAFLf,UAAmC,IAAIC,GAAJ,EAE9Bc,EAEVf,EAAK3F,IAAL2F,EAFUe,EAEL1G,CAFK0G;AAEL1G;;AAAAA;AANT;AAAA,aASSA,IATT,GASSA;AAEL9J,WAAKiL,GAALjL,CAAS,WAATA,EAAsBqL,CAAtBrL,GACAA,KAAKiL,GAALjL,CAAS,QAATA,EAAmBoR,CAAnBpR,CADAA,EAEAA,KAAKiL,GAALjL,CAAS,QAATA,EAAmBqR,CAAnBrR,CAFAA,EAGAA,KAAKiL,GAALjL,CAAS,OAATA,EAAkB4R,CAAlB5R,CAHAA,EAIAA,KAAKiL,GAALjL,CAAS,YAATA,EAAuB8R,CAAvB9R,CAJAA,EAKAA,KAAKiL,GAALjL,CAAS,UAATA,EAAqBiS,CAArBjS,CALAA,EAMAA,KAAKiL,GAALjL,CAAS,UAATA,EAAqBkS,CAArBlS,CANAA,EAOAA,KAAKiL,GAALjL,CAAS,aAATA,EAAwBmS,EAAxBnS,CAPAA,EAQAA,KAAKiL,GAALjL,CAAS,YAATA,EAAuBoS,EAAvBpS,CARAA,EAWAA,KAAKiL,GAALjL,CAAS,SAATA,EAAoBuS,EAApBvS,EAAoBuS,CAAS,CAA7BvS,CAXAA;AAW6B,KAtBjC,EAsBiC,EAGxBiL,GAHwB,GAGxBA,UAAI7K,CAAJ6K,EAAkBwH,CAAlBxH,EAAuCyH,CAAvCzH,EAAuCyH;AAAAA,4BAAiB,CAAjBA,GAC5C1S,KAAK2S,KAAL3S,CAAWwL,GAAXxL,CAAeI,CAAfJ,EAAqByS,CAArBzS,CAD4C0S,EAE5CA,KAAS1S,KAAK0S,KAAL1S,CAAWoD,IAAXpD,CAAgBI,CAAhBJ,CAFmC0S;AAEnBtS,KA3B7B,EA2B6BA,EAMpBwS,GANoBxS,GAMpBwS,UAAIxS,CAAJwS,EAAkBhM,CAAlBgM,EAA4BtB,CAA5BsB,EAA0C/J,CAA1C+J,EAA0C/J;AAC/C,kBAAY8J,KAAZ,CAAkBpH,GAAlB,CAAsBnL,CAAtB,EAA4B;AAC1BwG,aAD0B;AAE1B0K,gBAF0B;AAG1BzI;AAH0B,OAA5B;AAGEA,KArCN,EAqCMA,EAOGgK,SAPHhK,GAOGgK,UAAUjM,CAAViM,EAAoBvB,CAApBuB,EAAkChK,CAAlCgK,EAAkChK;AAAAA;AACvC,kBAAY6J,KAAZ,CAAkB5B,IAAlB,CAAuB;AAAA,eAAQhB,EAAK8C,GAAL9C,CAAS1P,CAAT0P,EAAelJ,CAAfkJ,EAAmBwB,CAAnBxB,EAA0BjH,CAA1BiH,CAAR;AAAkCjH,OAAzD;AAAyDA,KA7C7D,EA6C6DA,CA7C7D;AA6C6DA,GA7ChD2J,CAAgBjC,CAAhBiC,CJ1DFnD;AAAAA,MKnCEyD;AAEX,eACSzS,CADT,EAES0S,CAFT,EAESA;AAAAA;AAAAA,2BAAQ,aAARA;;AAAQ,qCACZhP,gCADY,EACZA,KADY,EACZA,KADY,EACZA,GADY,EACZA;;AAAAA,cAGH0L,kCAAS1L,CAAT0L,MAAS1L,IAHNA,EAGMA,KAHNA,GAFI1D,CAEJ0D,EADIgP,WACJhP,EAOCmF,MAAM8J,iBAAN9J,IACFA,MAAM8J,iBAAN9J,CAAM8J;AAAAA;AAAAA;AAAAA,UAAN9J,EAA8B4J,CAA9B5J,CARCnF,EAWH0L,EAAKrP,IAALqP,GAAY,YAXT1L,EAWS,CAXTA;AALP;;AAAA;AAAA,GAAa+O,CAAb,EAAgC5J,KAAhC,CAAa4J,CLmCFzD;AAAAA,MMRE4D;AAoCX,eAAYC,CAAZ,EAAYA;AAAAA,2BAAiC,EAAjCA,GAnCLlT,cAAiB,IAAIF,CAAJ,CAAW,aAAX,CAmCZoT,EA/BLlT,WAAyB,EA+BpBkT,EA3BLlT,YAA0B,EA2BrBkT,EAvBLlT,YAA0B,EAuBrBkT,EAdJlT,SAAkB,CACxB;AACEI,cAAM,WADR;AAEE+S,cAAM;AAFR,OADwB,EAKxB;AACE/S,cAAM,QADR;AAEE+S,cAAM;AAFR,OALwB,CAcdD,EAENA,MAEFlT,KAAK4P,GAAL5P,GAAWA,KAAK4P,GAAL5P,CAASiB,MAATjB,CAAgBkT,CAAhBlT,CAFTkT,CAFMA,EAMVlT,KAAKsL,MAALtL,EANUkT;AApCd;;AAAA;AAAA,aAgDSjI,GAhDT,GAgDSA,UAAIkI,CAAJlI,EAAiCxG,CAAjCwG,EAAiCxG;AACtC,cAAQ0O,CAAR;AACE,aAAK,MAAL;AAEEnT,eAAKoT,CAALpT,CAAY0L,MAAZ1L,CAAmByE,EAAK4O,QAAL5O,IAAiB,CAApCzE,EAAuC,CAAvCA,EAA0CyE,EAAKJ,KAA/CrE;AACA;;AACF,aAAK,YAAL;AACA;AAEEA,eAAK4P,GAAL5P,CAASoD,IAATpD,CAAcyE,CAAdzE;AARJ;;AAYAA,WAAKsL,MAALtL;AAAKsL,KA7DT,EA6DSA,EAMAqB,OANArB,GAMAqB,UACLlI,CADKkI,EAEL2G,CAFK3G,EAEL2G;AAAAA;AAAAA,2BAA8B,EAA9BA;AAGA,UAAIJ,IAAcI,EAAQC,IAARD,GAAetT,KAAKuT,IAApBD,GAA2BtT,KAAKmM,IAAlD;AAIE+G,UAAcA,EAAYM,MAAZN,CADZI,EAAQG,IAARH,GAC+B;AAAA,eAAKI,EAAEtT,IAAFsT,IAAqB,WAAXA,EAAEtT,IAAjB;AAAiBA,OADhDkT,GAG+B;AAAA,gBAAMI,EAAEtT,IAAR,IAA2B,WAAXsT,EAAEtT,IAAlB;AAAkBA,OAFrC8S,CAAdA;AAMF,UAAMS,IAAW,IAAIjE,GAAJ,EAAjB;AAAA,UAIMkE,IAASV,EAAYW,IAAZX,CAAiB;AAC9B,YAAIY,KAAQ,CAAZ;AAAA,YACMhO,IAAQ,EADd;AAGA,kBAAIwN,EAAQG,IAAZ,IAA+B,WAAXC,EAAEtT,IAAtB,MAKAqP,EAAK2D,CAAL3D,CAAYsE,OAAZtE,GAAsBI,OAAtBJ,CAA8B;AACxBqE,gBACFA,IAAQrE,EAAKuE,CAALvE,CAAYiE,CAAZjE,EAAewE,CAAfxE,EAAqBhL,CAArBgL,EAA2B3J,CAA3B2J,CAARqE,EAEIJ,EAAE/I,IAAF+I,IAAUA,EAAEQ,EAAZR,KACFI,IACErE,EAAKuE,CAALvE,CAAYiE,CAAZjE,EAAewE,CAAfxE,EAAqBhL,CAArBgL,EAA2B3J,CAA3B2J,EAAkC,MAAlCA,KACAA,EAAKuE,CAALvE,CAAYiE,CAAZjE,EAAewE,CAAfxE,EAAqBhL,CAArBgL,EAA2B3J,CAA3B2J,EAAkC,IAAlCA,CAHAiE,CAFJI,EAOIJ,EAAE/I,IAAF+I,IAAE/I,CAAS+I,EAAEQ,EAAbR,KACFI,IAAQrE,EAAKuE,CAALvE,CAAYiE,CAAZjE,EAAewE,CAAfxE,EAAqBhL,CAArBgL,EAA2B3J,CAA3B2J,EAAkC,MAAlCA,CADNiE,CAPJI,EAQ4C,CAEvCJ,EAAE/I,IAFqC,IAE7B+I,EAAEQ,EAF2B,KAG1CJ,IAAQrE,EAAKuE,CAALvE,CAAYiE,CAAZjE,EAAewE,CAAfxE,EAAqBhL,CAArBgL,EAA2B3J,CAA3B2J,EAAkC,IAAlCA,CAHkC,CAT1CqE;AAY0C,SAbhDrE,GAkBAkE,EAASnI,GAATmI,CAAaD,CAAbC,EAAgB7N,CAAhB6N,CAlBAlE,EAoBOqE,CAzBP;AAyBOA,OA7BMZ,CAJf;AAAA,UAoCMiB,IAAcR,EAASpI,GAAToI,CAAaC,CAAbD,CApCpB;AAAA,UAqCMS,IAAiB,EArCvB;;AA+CA,UAREA,EAAehR,IAAfgR,CADEd,EAAQC,IAARD,GACkB,MADlBA,GAGkB,MAFpBc,GAIEd,EAAQG,IAARH,IACFc,EAAehR,IAAfgR,CAAoB,MAApBA,CALAA,EAQED,CAAJ,EAAiB;AAAA;AAAA,YAETE,IAAe,CAACT,CAAD,CAFN;AAIfU,eAAOzQ,IAAPyQ,CAAYH,CAAZG,EAAyB1R,MAAzB0R,GAAkC,CAAlCA,IAAuCD,EAAMjR,IAANiR,CAAWF,CAAXE,CAAvCC,EAAkDH,UAE7C/D,MAF6C+D,EAEtCxT,IAFsCwT,CAEtCxT,KAFsCwT,CAEtCxT,CAFsCwT,EAEtCxT,wBACWyT,EAAe1S,IAAf0S,CAAoB,GAApBA,CADXzT,GAC+B,GAD/BA,EAC+B,MAD/BA,CAEP0T,CAFO1T,CAFsCwT,CAAlDG;AAIKD,OARP,MAWErU,KAAKoQ,MAALpQ,CAAYW,IAAZX,CAAYW,0BAA6ByT,EAAe1S,IAAf0S,CAAoB,GAApBA,CAA7BzT,GAAiD,GAA7DX;;AAGF,aAAO4T,CAAP;AAAOA,KA/IX,EA+IWA,EAUFtI,MAVEsI,GAUFtI;AAAAA;AAELtL,WAAK4P,GAAL5P,GAAWA,KAAK4P,GAAL5P,CACRoE,GADQpE,CACJ;AAAA,eAAK8P,EAAKyE,CAALzE,CAAkB4D,CAAlB5D,CAAL;AAAuB4D,OADnB1T,EAERwU,IAFQxU,CAEH,UAAC0J,CAAD,EAAI+K,CAAJ,EAAIA;AAAAA,eAAM/K,EAAEgL,QAAFhL,GAAa+K,EAAEC,QAArBD;AAAqBC,OAFtB1U,EAGR+T,OAHQ/T,GAIRoE,GAJQpE,CAIJ;AAGH,sBAFO0T,EAAEgB,QAET,EAAOhB,CAAP;AAAOA,OAPA1T,CAAXA,EASAA,KAAKmM,IAALnM,GAAYA,KAAK4P,GAAL5P,CAASwT,MAATxT,CACV;AAAA,oBAAiBqC,CAAjB,KAAKqR,EAAEiB,KAAP,IAAOA,KAAmCtS,CAAnCsS,KAAuBjB,EAAEkB,KAAhC;AAAgCA,OADtB5U,CATZA,EAYAA,KAAKuT,IAALvT,GAAYA,KAAK4P,GAAL5P,CAASwT,MAATxT,CAAgB;AAAA,oBAAgBqC,CAAhB,KAAKqR,EAAEH,IAAP;AAAOA,OAAvBvT,CAZZA;AAYmCuT,KAvKvC,EAuKuCA,EAc7BS,CAd6BT,GAc7BS,UACNa,CADMb,EAENC,CAFMD,EAGNvP,CAHMuP,EAINlO,CAJMkO,EAKNc,CALMd,EAKNc;AAEA,UAAIC,KAAU,CAAd;AAAA,UACIC,KAAW,CADf;AAAA,UAEMtB,IAAImB,CAFV;AAAA,UAGQzU,IAAe6T,EAAf7T,IAHR;AAAA,UAIM6U,IAAU7U,CAJhB;AAAA,UAKM8U,IAAU9U,CALhB;AAAA,UAMM+U,IAAS/U,CANf;AAAA,UAOM+I,IAAO2L,IAAYpB,EAAEoB,CAAFpB,CAAZoB,GAA2BpB,CAPxC;AAAA,UAQMvH,IAAqB,SAAd2I,CAAc,GAAOrQ,EAAK2H,IAAZ,GAAmB3H,EAAK2Q,OARnD;;AAYA,UAHcN,IAAY3L,KAAQA,EAAK/I,CAAL+I,CAApB2L,GAAiC3L,EAAK/I,CAAL+I,CAG/C,EAAW;AACT,gBAVqB8K,EAATd,IAUZ;AACE,eAAK,SAAL;AACA;AAEE,gBAAMkC,IAAkB9Q,MAAMQ,OAANR,CAAc4E,EAAK8L,CAAL9L,CAAd5E,IACnB4E,EAAK8L,CAAL9L,CADmB5E,GAEpB,CAAC4E,EAAK8L,CAAL9L,CAAD,CAFJ;AAKIgD,cAAK8I,CAAL9I,KAAK8I,CAA8C,CAA9CA,KAAYI,EAAMlS,OAANkS,CAAclJ,EAAK8I,CAAL9I,CAAdkJ,CAAjBlJ,KACF6I,KAAW,CADT7I,GACS,CAGyB,CAHzB,KAGTkJ,EAAMlS,OAANkS,CAAclJ,EAAK8I,CAAL9I,CAAdkJ,CAHS,KAIXN,KAAU,CAJC,CADT5I;AAOJ;;AAGF,eAAK,QAAL;AAEE,gBAAMkJ,IAAkB9Q,MAAMQ,OAANR,CAAc4E,EAAK+L,CAAL/L,CAAd5E,IACnB4E,EAAK+L,CAAL/L,CADmB5E,GAEpB,CAAC4E,EAAK+L,CAAL/L,CAAD,CAFJ;AAKIgD,cAAK+I,CAAL/I,KAEAA,EAAK+I,CAAL/I,EAAc/L,IAAd+L,IAAc/L,CACyB,CADzBA,KACdiV,EAAMlS,OAANkS,CAAclJ,EAAK+I,CAAL/I,EAAc/L,IAA5BiV,CADAlJ,KAGA6I,KAAW,CAHX7I,GAGW,CAG8B,CAH9B,KAGTkJ,EAAMlS,OAANkS,CAAclJ,EAAK+I,CAAL/I,EAAc/L,IAA5BiV,CAHS,KAIXN,KAAU,CAJC,CALX5I,IAYF4I,KAAU,CAZR5I;AAcJ;;AAGF,eAAK,UAAL;AACMhD,cAAKgM,CAALhM,EAAa1E,CAAb0E,IACF6L,KAAW,CADT7L,GAGF4L,KAAU,CAHR5L;AA5CR;;AAoDI6L,cACEF,KACFhP,EAAMgP,CAANhP,IAAmBA,EAAMgP,CAANhP,KAAoB,EAAvCA,EACAA,EAAMgP,CAANhP,EAAiB1F,CAAjB0F,IAAyB4N,EAAEoB,CAAFpB,EAAatT,CAAbsT,CAFvBoB,IAIFhP,EAAM1F,CAAN0F,IAAc4N,EAAEtT,CAAFsT,CALdsB;AAUN;;AAAA,aAAOD,CAAP;AAAOA,KAvQX,EAuQWA,EAWDO,CAXCP,GAWDO,UACN5B,CADM4B,EAENC,CAFMD,EAGNE,CAHMF,EAGNE;AAEA,UAAId,IAAW,CAAf;AAiBA,cAdEhB,EAAE6B,CAAF7B,KACCA,EAAE/I,IAAF+I,IAAUA,EAAE/I,IAAF+I,CAAO6B,CAAP7B,CADXA,IAECA,EAAEQ,EAAFR,IAAQA,EAAEQ,EAAFR,CAAK6B,CAAL7B,CAYX,MAVEgB,KAAYzI,KAAKwJ,GAALxJ,CAAS,EAATA,EAAauJ,CAAbvJ,CAAZyI,EAEIhB,EAAE/I,IAAF+I,IAAUA,EAAE/I,IAAF+I,CAAO6B,CAAP7B,CAAVA,KACFgB,KAAY,CADVhB,CAFJgB,EAKIhB,EAAEQ,EAAFR,IAAQA,EAAEQ,EAAFR,CAAK6B,CAAL7B,CAARA,KACFgB,KAAY,CADVhB,CAKN,GAAOgB,CAAP;AAAOA,KAxSX,EAwSWA,EAGDH,CAHCG,GAGDH,UAAab,CAAba,EAAab;AAAAA;AACnBA,QAAEgB,QAAFhB,GAAa,CAAbA;AACA,UAAIgB,IAAW,CAAf;AAWA,aATA1U,KAAKoT,CAALpT,CAAY6P,OAAZ7P,CAAoB,UAACiU,CAAD,EAAO/P,CAAP,EAAOA;AAIzBwQ,aAAYvE,EAAKmF,CAALnF,CAAwBuD,CAAxBvD,EAHK8D,EAAT7T,IAGI+P,EAFEjM,IAAI,CAENiM,CAAZuE;AAFkB,OAFpB1U,GAOA0T,EAAEgB,QAAFhB,GAAagB,CAPb1U,EASO0T,CAAP;AAAOA,KAxTX,EAwTWA,CAxTX;AAwTWA,GAxTET,ENQF5D;AAAAA,MOJEqG;AAKX,eAAYxC,CAAZ,EAAYA;AAAAA,2BAAiC,EAAjCA,GAJLlT,cAAiB,IAAIF,CAAJ,CAAW,aAAX,CAIZoT,EAFJlT,UAAoB,CAEhBkT,EACVlT,KAAK2V,KAAL3V,GAAa,IAAIiT,EAAJ,CAAUC,CAAV,CADHA;AALd;;AAAA;AAAA,aAcS3H,GAdT,GAcSA,UACL9G,CADK8G,EAEL+H,CAFK/H,EAEL+H;AAEA,kBAAYqC,KAAZ,CAAkBhJ,OAAlB,CAA0BlI,CAA1B,EAAgC6O,CAAhC;AAAgCA,KAlBpC,EAkBoCA,EA4CrBsC,MA5CqBtC,GA4CrBsC;AAAAA,UACXnR,UADWmR;AAAAA,UAEXf,gBAFWe;;AAEXf;AAAAA;AAmBA/E,YAAK+F,CAAL/F,GAAK+F,CAAW,CAAhB/F;AAAgB,SAnBhB+E;AAAAA,YAmBgB,IAbhB7U,IANA6U;AAAAA,YAKMnB,IAAImB,KAAc,EALxBA;;AAMA7U,UAAK6V,CAAL7V,GAAK6V,CAAW,CAAhB7V;AAAgB;AAAA,iCAGR8P,EAAKgG,CAALhG,CAAkB,YAAlBA,EAAgCrL,CAAhCqL,EAAsC4D,CAAtC5D,CAHQ,EAG8B4D,IAH9B,CAG8BA;AAAAA,mCACtC5D,EAAKyD,IAALzD,CAAUrL,CAAVqL,EAAgB4D,CAAhB5D,CADsC4D,EACtBA,IADsBA,CACtBA;AAAAA,qCAChB5D,EAAKgG,CAALhG,CAAkB,WAAlBA,EAA+BrL,CAA/BqL,EAAqC4D,CAArC5D,CADgB4D,EACqBA,IADrBA,CACqBA,cADrBA;AACqBA,aAFCA;AAEDA,WAL7B;AAK6BA,SAL7B,EAK6BA,UACpCrT,CADoCqT,EACpCrT;AACPyP,YAAK+F,CAAL/F,GAAK+F,CAAW,CAAhB/F,EAEAA,EAAKM,MAALN,CAAYlP,KAAZkP,CAAkB,sCAAlBA,CAFAA,EAGAA,EAAKM,MAALN,CAAYzP,KAAZyP,CAAkBzP,CAAlByP,CAHAA;AAGkBzP,SAVJ;AAUIA;AAhFxB,OAgEIwU,CAhEJ;AAAA;AAAA;AAAA,SAgHekB,MAhHf,GAgHeA;AAAAA,UACXtR,UADWsR;AAAAA,UAEXlB,gBAFWkB;AAAAA,UAGX5J,UAHW4J;AAAAA,UAIXvP,aAJWuP;;AAIXvP;AAAAA;AAAAA;AA+GA6J,YAAKwF,CAALxF,GAAKwF,CAAW,CAAhBxF;AAAgB,SA/GhB7J;AAAAA,YA+GgB,MA/GhBA;AAAAA,YA+GgB,IArGhBxG,IAVAwG;AAAAA,YAOMkN,IAAImB,KAAc,EAPxBrO;AAAAA,YAQMwP,KAAkB,CAAlBA,KAAOtC,EAAEsC,IAATA,IAASA,CAAiB,CARhCxP;;AAUAxG,UAAK6V,CAAL7V,GAAK6V,CAAW,CAAhB7V;AAAgB;AAAA;AAAA,mCAQRqQ,EAAKyF,CAALzF,CAAkB,QAAlBA,EAA4B5L,CAA5B4L,EAAkCqD,CAAlCrD,CARQ,EAQ0BqD,IAR1B,CAQ0BA;AAAAA;;AAAAA;AAAAA,+CAwElCrD,EAAK5E,MAAL4E,CAAY5L,CAAZ4L,CAxEkCqD,EAwEtBjP,IAxEsBiP,CAwEtBjP;AAAAA,yCAEZ4L,EAAKyF,CAALzF,CAAkB,OAAlBA,EAA2B5L,CAA3B4L,EAAiCqD,CAAjCrD,CAFY5L,EAEqBiP,IAFrBjP,CAEqBiP,cAFrBjP;AAEqBiP,iBA1ECA;AA0EDA;;AAAAA;AAAAA,oBAxEnCsC,CAwEmCtC,EAxEnCsC;AAAAA,yCAEM3F,EAAKpF,GAALoF,CAAS5L,CAAT4L,EAAe7J,CAAf6J,CAFN2F,EAEqBxP,IAFrBwP,CAEqBxP;AAAAA,2CAEf6J,EAAKyF,CAALzF,CAAkB,aAAlBA,EAAiC5L,CAAjC4L,EAAuCqD,CAAvCrD,CAFe7J,EAEwBkN,IAFxBlN,CAEwBkN;AAAAA,6CACvCrD,EAAKyF,CAALzF,CAAkB,aAAlBA,EAAiC5L,CAAjC4L,EAAuCqD,CAAvCrD,CADuCqD,EACAA,IADAA,CACAA;AAAAA,+CAGvCjH,QAAQmD,GAARnD,CAAY,CAAC4D,EAAKsE,KAALtE,CAAW5L,CAAX4L,EAAiBqD,CAAjBrD,CAAD,EAAsBA,EAAKuE,KAALvE,CAAW5L,CAAX4L,EAAiBqD,CAAjBrD,CAAtB,CAAZ5D,CAHuCiH,EAGYA,IAHZA,CAGYA;AAAAA,iDAGnDrD,EAAKyF,CAALzF,CAAkB,YAAlBA,EAAgC5L,CAAhC4L,EAAsCqD,CAAtCrD,CAHmDqD,EAGbA,IAHaA,CAGbA;AAAAA,mDACtCrD,EAAKyF,CAALzF,CAAkB,YAAlBA,EAAgC5L,CAAhC4L,EAAsCqD,CAAtCrD,CADsCqD,EACAA,IADAA,CACAA,cADAA;AACAA,2BAJaA;AAIbA,yBAPCA;AAODA,uBARCA;AAQDA,qBAVvBlN;AAUuBkN,mBAZ5CsC;AAY4CtC,iBAZ5CsC,EAY4CtC,UACrCrT,CADqCqT,EACrCrT;AAAAA,sBAGHgQ,EAAK4F,CAAL5F,CAAwBhQ,CAAxBgQ,CAHGhQ,EAIL,UAAUyS,EAAV,CAAqBzS,CAArB,EAA4B,yBAA5B;AAA4B,iBAjB9B2V;;AAiB8B;AAAA;AAAA;AAAA,2BAiCV,CAjCU,KAiC1BE,CAjC0B,EAiC1BA,uBACI7F,EAAKpF,GAALoF,CAAS5L,CAAT4L,EAAe7J,CAAf6J,CADJ6F,EACmB1P,IADnB0P,CACmB1P;AAAAA,+CAEf6J,EAAKyF,CAALzF,CAAkB,aAAlBA,EAAiC5L,CAAjC4L,EAAuCqD,CAAvCrD,CAFe7J,EAEwBkN,IAFxBlN,CAEwBkN;AAAAA,iDACvCrD,EAAKuE,KAALvE,CAAW5L,CAAX4L,EAAiBqD,CAAjBrD,EAAoB6F,CAApB7F,CADuCqD,EACnBwC,IADmBxC,CACnBwC;AAAAA,mDACpB7F,EAAKyF,CAALzF,CAAkB,YAAlBA,EAAgC5L,CAAhC4L,EAAsCqD,CAAtCrD,CADoB6F,EACkBxC,IADlBwC,CACkBxC,cADlBwC;AACkBxC,2BAFCA;AAEDA,yBAJvBlN;AAIuBkN,uBAL1CwC;AAK0CxC,qBAtChB;;AAsCgBA;AAAAA,mBAtChB,EAsCgBA,UAEvCrT,CAFuCqT,EAEvCrT;AAAAA,wBAGHgQ,EAAK4F,CAAL5F,CAAwBhQ,CAAxBgQ,CAHGhQ,EAIL,UAAUyS,EAAV,CACEzS,CADF,EAEE,uCAFF;AAEE,mBA9C0B;AA8C1B,iBA9C0B;AAAA,oBAI5B6V,KAAmB,CAJS;AAAA,oBAIT;AAAA,yCAIf7F,EAAKyF,CAALzF,CAAkB,aAAlBA,EAAiC5L,CAAjC4L,EAAuCqD,CAAvCrD,CAJe,EAIwBqD,IAJxB,CAIwBA;AAAAA,2CAEzBjH,QAAQmD,GAARnD,CAAY,CAC9B4D,EAAKsE,KAALtE,CAAW5L,CAAX4L,EAAiBqD,CAAjBrD,CAD8B,EAE9B8F,EAAehK,CAAfgK,EAAqB1R,CAArB0R,CAF8B,CAAZ1J,EAGjBnN,IAHiBmN,CAGZ;AAAA,6BAAU2J,EAAO,CAAPA,CAAV;AAAiB,qBAHL3J,CAFyBiH,EAKpB,IALoBA,CAKpB;AAPvB,6BAIFwC,uBAKM7F,EAAKyF,CAALzF,CAAkB,YAAlBA,EAAgC5L,CAAhC4L,EAAsCqD,CAAtCrD,CALN6F,EAK4CxC,IAL5CwC,CAK4CxC,cAL5CwC,CAJE;AAS0CxC,qBAPCA;AAODA,mBAXvB;AAWuBA,iBAXvB,EAWuBA,UAIrCrT,CAJqCqT,EAIrCrT;AAAAA,sBAGHgQ,EAAK4F,CAAL5F,CAAwBhQ,CAAxBgQ,CAHGhQ,EAIL,UAAUyS,EAAV,CACEzS,CADF,EAEE,uCAFF;AAEE,iBArBiB,CAJS;;AAyB1B;AAAA,eA8B+BqT;;AA9B/B;AAAA,aApDM;AAoDN;;AAAA;AAAA,gBAhDJsC,CAgDI,EAhDJA,uBACIG,EAAehK,CAAfgK,EAAqB1R,CAArB0R,CADJH,EACyBvR,IADzBuR,CACyBvR,cADzBuR;AACyBvR,WA+CrB;;AA/CqBA;AAAAA,SALf,EAKeA,UA8EtBpE,CA9EsBoE,EA8EtBpE;AAKP,cAJAgQ,EAAKwF,CAALxF,GAAKwF,CAAW,CAAhBxF,EAIIhQ,EAAMD,IAANC,IAA6B,iBAAfA,EAAMD,IAAxB,EAIE,MAHAiQ,EAAKD,MAALC,CAAYzP,KAAZyP,CAAkBhQ,EAAM0S,KAAxB1C,GACAA,EAAKD,MAALC,CAAYhQ,KAAZgQ,CAAkBhQ,EAAMA,KAAxBgQ,CADAA,EAGMhQ,CAAN;AAMF,gBAHAgQ,EAAKD,MAALC,CAAYzP,KAAZyP,CAAkB,yBAAlBA,GACAA,EAAKD,MAALC,CAAYhQ,KAAZgQ,CAAkBhQ,CAAlBgQ,CADAA,EAGMhQ,CAAN;AAAMA,SAlGQ;AAkGRA;AAhOZ,OAoHImG,CApHJ;AAAA;AAAA;AAAA,SAyOe+M,IAzOf,GAyOeA,UAAK9O,CAAL8O,EAA4BG,CAA5BH,EAA4BG;AAAAA;AAAAA,+BACjClE,KAAS,MAATA,EAAiB/K,CAAjB+K,EAAuBkE,CAAvBlE,CADiCkE,EACVA,IADUA,CACVA;AAE7B,iBAAOA,EAAEH,IAAFG,GAAS1E,EAAS0E,EAAEH,IAAXvE,KAAoBvK,CAApBuK,CAAT0E,GAAqCjH,QAAQE,OAARF,EAA5C;AAAoDE,SAHb+G;AAzO3C,OAyO2CA,CAzO3C;AAAA;AAAA;AAAA,SAkPeiB,KAlPf,GAkPeA,UAAMlQ,CAANkQ,EAA6BjB,CAA7BiB,EAA6BjB;AAAAA;AAAAA,+BAClClE,KAAS,OAATA,EAAkB/K,CAAlB+K,EAAwBkE,CAAxBlE,CADkCkE,EACVA,IADUA,CACVA;AAE9B,iBAAOA,EAAEiB,KAAFjB,GAAU1E,EAAS0E,EAAEiB,KAAX3F,KAAqBvK,CAArBuK,CAAV0E,GAAuCjH,QAAQE,OAARF,EAA9C;AAAsDE,SAHd+G;AAlP5C,OAkP4CA,CAlP5C;AAAA;AAAA;AAAA,SA2PekB,KA3Pf,GA2PeA,UACXnQ,CADWmQ,EAEXlB,CAFWkB,EAGXsB,CAHWtB,EAGXsB;AAAAA;AAAAA,+BAEM1G,KAAS,OAATA,EAAkB/K,CAAlB+K,EAAwBkE,CAAxBlE,CAFN0G,EAE8BxC,IAF9BwC,CAE8BxC;AAE9B,iBAAOA,EAAEkB,KAAFlB,GACH1E,EAAS0E,EAAEkB,KAAX5F,KAAqBvK,CAArBuK,EAA2BkH,CAA3BlH,CADG0E,GAEHjH,QAAQE,OAARF,EAFJ;AAEYE,SANZuJ;AA9PJ,OA8PIA,CA9PJ;AAAA;AAAA;AAAA,SA0QejL,GA1Qf,GA0QeA,UAAIxG,CAAJwG,EAA2BzE,CAA3ByE,EAA2BzE;AAAAA;AAAAA,eACtCC,EAAI0B,YAAJ1B,CAAiBhC,EAAK2H,IAAL3H,CAAU2B,SAA3BK,EAAsCD,CAAtCC,GACA+I,KAAS,WAATA,EAAsB/K,CAAtB+K,CADA/I,EACsBhC,iBAFgB+B;AA1Q1C,OA0Q0CA,CA1Q1C;AAAA;AAAA;AAAA,SAkReiF,MAlRf,GAkReA,UAAOhH,CAAPgH,EAAOhH;AAAAA;AAAAA,eAClBgC,EAAIsB,eAAJtB,CAAoBhC,EAAK2Q,OAAL3Q,CAAa2B,SAAjCK,GACA+I,KAAS,gBAATA,EAA2B/K,CAA3B+K,CADA/I,EAC2BhC,iBAFTA;AAlRtB,OAkRsBA,CAlRtB;AAAA;AAAA;AAAA,SAuRUwR,CAvRV,GAuRUA,UAAmB5V,CAAnB4V,EAAmB5V;AACzB,aAAIA,EAAMgW,OAANhW,GAAMgW,CAEA,4BAA4BnR,IAA5B,CAAiC7E,EAAMgW,OAAvC,CAFNhW,GAE6CgW,CAG7ChW,EAAMgO,MALV;AAKUA,KA7Rd,EA6RcA,EAWEyH,CAXFzH,GAWEyH,UACZ/F,CADY+F,EAEZrR,CAFYqR,EAGZpC,CAHYoC,EAGZpC;AAAAA;AAAAA,+BAEMlE,KAASO,CAATP,EAAe/K,CAAf+K,EAAqBkE,CAArBlE,CAFNkE,EAE2BA,IAF3BA,CAE2BA;AAE3B,iBAAOA,EAAE3D,CAAF2D,IAAU1E,EAAS0E,EAAE3D,CAAF2D,CAAT1E,KAAqBvK,CAArBuK,CAAV0E,GAAuCjH,QAAQE,OAARF,EAA9C;AAAsDE,SAJtD+G;AA3SJ,OA2SIA,CA3SJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBI,oBAAYmC,CAAZ;AAAYA,OAzBhB;AAyBgBA,qBAEAxH,CAFAwH,EAEAxH;AACZrO,aAAK6V,CAAL7V,GAAgBqO,CAAhBrO;AAAgBqO;AA5BpB,OA4BoBA;AAAAA;AAAAA;AAOhB,oBAAYsH,KAAZ,CAAkBpC,IAAlB,CAAuB3Q,MAAvB,GAAgC,CAAhC;AAAgC;AAPhByL,KA5BpB,EAmCoC;AAAA;AAAA;AAOhC,oBAAYsH,KAAZ,CAAkB/F,GAAlB,CAAsBkB,IAAtB,CAA2B;AAAA,iBAAgB,WAAX4C,EAAEtT,IAAP;AAAOA,SAAlC;AAAkCA;AAPF,KAnCpC,EA0CsCA;AAAAA;AAAAA;AAYlC,oBAAYuV,KAAZ,CAAkB/F,GAAlB,CAAsBkB,IAAtB,CAA2B;AAAA,iBAAM4C,EAAEQ,EAAFR,IAAEQ,CAAOR,EAAEQ,EAAFR,CAAKhO,KAAdgO,IAAwBA,EAAEsC,IAAhC;AAAgCA,SAA3D;AAA2DA;AAZzB5V,KA1CtC,IAsD+D4V,CAtD/D;AAsD+DA,GAtDlDN,EPIFrG;AAAAA,MQhBEiH;AAkBX,eAAYC,CAAZ,EAAYA;AAAAA;AAdLvW,mBAAqB,CAC1B,aAD0B,EAE1B,YAF0B,EAG1B,aAH0B,EAI1B,YAJ0B,CAArBA,EASAA,mBAAkC,IAAI0P,GAAJ,EATlC1P,EAegB,MAAjBuW,EAAM3T,MAAW,KAOrB2T,EAAM1G,OAAN0G,CAAc;AACZ9G,UAAK+G,WAAL/G,CAAiBjE,GAAjBiE,CAAqBgH,EAAKnQ,SAA1BmJ,EAAqCgH,CAArChH;AAAqCgH,OADvCF,GAIAvW,KAAKqV,KAALrV,CAAW6P,OAAX7P,CAAmB;AACjBwP,UAAMpP,CAANoP,EAAYC,EAAKiH,CAALjH,CAAiBrP,CAAjBqP,CAAZD;AAA6BpP,OAD/BJ,CAXqB,CAfhBA;AA2B0BI;;AAAAA,uBAUzBsW,CAVyBtW,GAUzBsW,UAAYtW,CAAZsW,EAAYtW;AAAAA;AAClB,uBAAOqE,CAAP,EAAOA;AAAAA,gBACiBrE,EAAK0F,KAAL1F,CAAW,QAAXA,IAAuBqE,EAAK2H,IAA5BhM,GAAmCqE,EAAK2Q,OADzD3Q;AAAAA,YAECgS,IAAO3G,EAAK0G,WAAL1G,CAAiBvE,GAAjBuE,CAAiBvE,EADtBjF,SACKwJ,CAFRrL;AAML,eAAIgS,KAAQA,EAAKrW,CAALqW,CAARA,GACKzH,EAASyH,EAAKrW,CAALqW,CAATzH,KAA2BvK,CAA3BuK,CADLyH,GAIGhK,QAAQE,OAARF,EAJP;AAIeE,OAVjB;AAUiBA,KArBcvM,EAqBduM,CArBcvM;AAqBduM,GApDR2J,ERgBFjH;;ASlCNsH,UAAQC,SAARD,CAAkBrS,OAAlBqS,KACHA,QAAQC,SAARD,CAAkBrS,OAAlBqS,GACGA,QAAgBC,SAAhBD,CAA0BE,iBAA1BF,IACDA,QAAQC,SAARD,CAAkBG,qBAHjBH,GAQAA,QAAQC,SAARD,CAAkBrE,OAAlBqE,KACHA,QAAQC,SAARD,CAAkBrE,OAAlBqE,GAA4B,UAAiBI,CAAjB,EAAiBA;AAC3C,QAAInQ,IAAK5G,IAAT;;AAEA,OAAG;AACD,UAAI4G,EAAGtC,OAAHsC,CAAWmQ,CAAXnQ,CAAJ,EACE,OAAOA,CAAP;AAGFA,UAAMA,EAAGoQ,aAAHpQ,IAAoBA,EAAGqB,UAA7BrB;AAA6BqB,KAL/B,QAMgB,SAAPrB,CAAO,IAAwB,MAAhBA,EAAGqQ,QAN3B;;AAQA;AAAA,GAZCN,CARAA;AAoBD,MCZSO,KAA0B;AACrC9Q,eAAW,IAD0B;AAErCiG,UAAM,EAF+B;AAGrC/F,eAAW,EAH0B;AAIrCyD,SAAK;AACHqD,YAAM,EADH;AAEHvE,YAAM,EAFH;AAGH5G,YAAM,EAHH;AAIH+K,YAAM,IAJH;AAKHK,aAAO;AALJ;AAJgC,GDYnC;ACHO,SC+kBE;AAjjBb;AAISrN,qBAAkBmX,CAAlBnX,EAIAA,kBAA0BkX,EAJ1BlX,EAQAA,cAAwBF,CARxBE,EAYAA,cAAiB,IAAIF,CAAJ,CAAW,aAAX,CAZjBE,EAgBAA,eAAoC,EAhBpCA,EA2BAA,aAAQwP,CA3BRxP,EAuCAA,WAAMyG,CAvCNzG,EAwCAA,eAAUmW,CAxCVnW,EAyCAA,eAAUqG,CAzCVrG,EA0CAA,eAAU4N,CA1CV5N,EA2CAA,WAAM+J,CA3CN/J;AAJT;;AAAA;AAAA,aA0DSoX,GA1DT,GA0DSA,UAAOC,CAAPD,EAAgCxV,CAAhCwV,EAAgCxV;AACrC,UAAM0V,IAAmBtX,KAAKuX,OAA9B;AAGID,QAAiBnU,OAAjBmU,CAAyBD,CAAzBC,IAAyBD,CAAW,CAApCC,GACFtX,KAAKoQ,MAALpQ,CAAYS,IAAZT,CAAYS,aAAgB4W,EAAOjX,IAAvBK,GAAuBL,sBAAnCJ,CADEsX,GAM0B,qBAAnBD,EAAOG,OAAY,IAM9BH,EAAOG,OAAPH,CAAerX,IAAfqX,EAAqBzV,CAArByV,GACAC,EAAiBlU,IAAjBkU,CAAsBD,CAAtBC,CAP8B,IAC5BtX,KAAKoQ,MAALpQ,CAAYS,IAAZT,CAAYS,aAAgB4W,EAAOjX,IAAvBK,GAAuBL,4BAAnCJ,CAPEsX;AAOiClX,KArEzC,EAqEyCA,EA2BhC0J,IA3BgC1J,GA2BhC0J;AAAAA,6BAcc,EAddA,GAcc,CAddA;AAAAA,UAcc,MAZjBoJ,WAFGpJ;AAAAA,UAEHoJ,mBAAc,EAAdA,GAAc,CAFXpJ;AAAAA,UAEW,MACdyM,KAHGzM;AAAAA,UAGHyM,mBAAQ,EAARA,GAAQ,CAHLzM;AAAAA,UAGK,MACR2N,MAJG3N;AAAAA,UAIH2N,mBAAStR,CAATsR,GAAStR,CAJN2D;AAAAA,UAKHgE,kBALGhE;AAAAA,UAKHgE,MACAc,OANG9E;AAAAA,UAMH8E,mBAAU,GAAVA,GAAU,CANP9E;AAAAA,UAMO,MACV4N,WAPG5N;AAAAA,UAOH4N,qBAPG5N;AAAAA,UAOH4N,MACAC,cARG7N;AAAAA,UAQH6N,qBARG7N;AAAAA,UAQH6N,MAEAC,cAVG9N;AAAAA,UAUH8N,qBAVG9N;AAAAA,UAUH8N,MACArR,OAXGuD;AAAAA,UAWM+N,mBAAgB,IAAhBA,GAAgB,CAXtB/N;AAAAA,UAWsB,MACzBlJ,KAZGkJ;AAAAA,UAYHlJ,MACAkX,QAbGhO;AAqCL,UApBAhK,EAAOK,QAAPL,CAAOK,CAAmB,CAAnBA,MAAmB,iBAAnBA,IAA0B,OAA1BA,GAA0B,eAJpB,KAIoB,GAJpB,CAIbL,GACAE,KAAKoQ,MAALpQ,CAAYW,IAAZX,CAAiBA,KAAKmX,OAAtBnX,CADAF,EAIAwU,OAAOzQ,IAAPyQ,CAAYmD,CAAZnD,EAAoBzE,OAApByE,CAA4B;AAItBnO,UAHSlD,CAGTkD,MACFA,EAJWlD,CAIXkD,IAAwBsR,EAJbxU,CAIawU,CADtBtR;AAHSlD,OADfqR,CAJAxU,EAYAE,KAAK+X,CAAL/X,GAA2B8N,CAZ3BhO,EAaAE,KAAK4O,OAAL5O,GAAe4O,CAbf9O,EAcAE,KAAK0X,WAAL1X,GAAmB0X,CAdnB5X,EAeAE,KAAK2X,cAAL3X,GAAsB2X,CAftB7X,EAgBAE,KAAK4X,cAAL5X,GAAsB4X,CAhBtB9X,EAmBAE,KAAKgY,CAALhY,GAAgBA,KAAKyG,GAALzG,CAAS0H,UAAT1H,EAnBhBF,EAmByB4H,CACpB1H,KAAKgY,CAAV,EACE,UAAU9O,KAAV,CAAgB,sCAAhB;AAEFlJ,WAAKgY,CAALhY,CAAciY,YAAdjY,CAA2B,WAA3BA,EAAwC,QAAxCA,GAGAA,KAAKkY,CAALlY,EAHAA;AAGKkY,UAEG9C,IAAYpV,KAAKyE,IAALzE,CAAZoV,OAFH8C;AAIL,WAAK9C,EAAQhP,SAAb,EACE,UAAU8C,KAAV,CAAgB,wCAAhB;;AAUF,UANAlJ,KAAKmY,KAALnY,GAAa,IAAIgR,CAAJ,CAAU0G,CAAV,CAAb1X,EACAA,KAAKuG,OAALvG,GAAe,IAAIwS,EAAJ,CAAYmF,CAAZ,CADf3X,EAEAA,KAAKkT,WAALlT,GAAmB,IAAI0V,EAAJ,CAAgBxC,CAAhB,CAFnBlT,EAGAA,KAAKuW,KAALvW,GAAa,IAAIsW,EAAJ,CAAUC,CAAV,CAHbvW,EAMsB,SAAlB6X,CAAJ,EAA4B;AAC1B,YAA6B,qBAAlBA,CAAX,EACE,UAAU3O,KAAV,CAAgB,4CAAhB;AAGFlJ,aAAKuG,OAALvG,CAAaiL,GAAbjL,CAAiB,eAAjBA,EAAkC6X,CAAlC7X;AAKFA;;AAAAA,WAAKqG,OAALrG,CAAa8J,IAAb9J,CAAkBoV,EAAQrL,GAARqL,CAAYvM,IAA9B7I,EAAoCoV,EAAQ9O,SAA5CtG,GAMAA,KAAKoY,CAALpY,GAAoBA,KAAKoY,CAALpY,CAAkBqY,IAAlBrY,CAAuBA,IAAvBA,CANpBA,EAOAA,KAAKsY,CAALtY,GAAoBA,KAAKsY,CAALtY,CAAkBqY,IAAlBrY,CAAuBA,IAAvBA,CAPpBA,EAQAA,KAAKuY,CAALvY,GAAsBA,KAAKuY,CAALvY,CAAoBqY,IAApBrY,CAAyBA,IAAzBA,CARtBA,EASAA,KAAKwY,CAALxY,EATAA,EAYAA,KAAKuX,OAALvX,CAAa6P,OAAb7P,CAAqB;AAAA,eAAUqX,EAAOvN,IAAPuN,EAAV;AAAiBvN,OAAtC9J,CAZAA;AAgBA,UAAMyY,IAAWzY,KAAKyE,IAAtB;AAEAgU,QAAS1N,OAAT0N,GAAmB,OAAnBA,EACAA,EAASrM,IAATqM,GAAgBA,EAASrD,OADzBqD,EAEAA,EAASrD,OAATqD,GAASrD,MAAepV,KAAKkX,UAApB9B,CAFTqD,EAGAzY,KAAKwP,KAALxP,CAAKwP,EAALxP,CAAc,OAAdA,EAAuByY,CAAvBzY,CAHAyY,EAMAzY,KAAKuT,IAALvT,CAAUyY,CAAVzY,CANAyY,EASAzY,KAAKkY,CAALlY,EATAyY;AASKP,KA/LT,EA+LSA,EAGAQ,OAHAR,GAGAQ;AACL1Y,WAAKkY,CAALlY,IACAA,KAAK2Y,CAAL3Y,EADAA,EAEAA,KAAKqG,OAALrG,CAAa4L,KAAb5L,EAFAA,EAGAA,KAAKwP,KAALxP,CAAW4L,KAAX5L,EAHAA,EAIAA,KAAKuX,OAALvX,GAAe,EAJfA;AAIe,KAvMnB,EAuMmB,EAcV4Y,KAdU,GAcVA,UAAM/P,CAAN+P,EAAM/P;AAGXuB,aAAOyC,QAAPzC,CAAgByO,MAAhBzO,CAAuBvB,CAAvBuB;AAAuBvB,KAxN3B,EAwN2BA,EAclBiQ,EAdkBjQ,GAclBiQ,UACLjQ,CADKiQ,EAEL/N,CAFK+N,EAGLzZ,CAHKyZ,EAGLzZ;AASA,UAAIoU,CAAJ;AANA,qBAJA1I,CAIA,KAJAA,IAAmB,OAInB,GAAI/K,KAAKkT,WAALlT,CAAiB+Y,SAArB,EACE/Y,KAAK4Y,KAAL5Y,CAAW6I,CAAX7I,EADF,KAmBA,MAPEyT,IADc,eAAZ1I,CAAY,GAEZ/K,KAAKqG,OAALrG,CAAaoV,OAAbpV,IACAA,KAAK+J,GAAL/J,CAASgZ,OAAThZ,CAAiBA,KAAKqG,OAALrG,CAAaoV,OAAbpV,CAAqB+J,GAAtC/J,MAA+CA,KAAK+J,GAAL/J,CAASgZ,OAAThZ,CAAiB6I,CAAjB7I,CAHnC,GAKPA,KAAKuG,OAALvG,CAAa4S,GAAb5S,CAAiB,SAAjBA,EAA4B,IAA5BA,EAAkC,IAAlCA,EAAwC6I,CAAxC7I,CAGT,KAAaA,KAAKkT,WAALlT,CAAiBiZ,OAA9B,EAWA,OAPAlO,IAAU/K,KAAKqG,OAALrG,CAAa8K,MAAb9K,CAAoB6I,CAApB7I,EAA0B+K,CAA1B/K,EAAmCX,CAAnCW,CAAV+K,EAEI1L,MACFA,EAAE6Z,eAAF7Z,IACAA,EAAE8Z,cAAF9Z,EAFEA,CAFJ0L,EAIIoO,KAGQhN,IAHRgN,CAGatQ,CAHbsQ,EAGmBpO,CAHnBoO,EAG4B1F,CAH5B0F,CAGJ;AAAgC1F,KA1QpC,EA0QoCA,EASrBF,IATqBE,GASrBF,UAAK6F,CAAL7F,EAAK6F;AAAAA;AAAAA,gBACVpZ,IADUoZ;AACVpZ,iCAAKwP,KAALxP,CAAKwP,EAALxP,CAAc,aAAdA,EAA6BoZ,CAA7BpZ,GAA6BoZ,IAA7BpZ,CAA6BoZ;AAAAA;AAAAA,mCAW7BtJ,EAAKN,KAALM,CAAKN,EAALM,CAAc,YAAdA,EAA4BsJ,CAA5BtJ,CAX6BsJ,EAWDA,IAXCA,CAWDA,cAXCA;AAWDA;;AAAAA;AAAAA,gBAR9BtJ,EAAKoD,WAALpD,CAAiBuJ,OAQaD,EARbC;AACnB,kBAAMxE,IAAa/E,EAAKoD,WAALpD,CAAiBvE,GAAjBuE,CAAqBsJ,CAArBtJ,EAAgC;AACjDyD,uBAAM;AAD2C,eAAhCzD,CAAnB;AACQ,qCAGFA,EAAKoD,WAALpD,CAAiB8F,MAAjB9F,CAAwB;AAAE+E,6BAAF;AAAcpQ,sBAAM2U;AAApB,eAAxBtJ,CAHE,EAG0CsJ,IAH1C,CAG0CA,cAH1C;AAG0CA;AAAAA,WAGlBA;;AAHkBA;AAAAA,SAR9CpZ;AApRV,OAmRoBoZ,CAnRpB;AAAA;AAAA;AAAA,SA+SejN,IA/Sf,GA+SeA,UACXtD,CADWsD,EAEXpB,CAFWoB,EAGXsH,CAHWtH,EAGXsH;AAAAA;AAAAA;AAyBA,cAAMhP,IAAO4L,EAAK5L,IAAlB;AAAkBA,iCAIZ4L,EAAKb,KAALa,CAAKb,EAALa,CAAc,MAAdA,EAAsB5L,CAAtB4L,CAJY5L,EAIUA,IAJVA,CAIUA;AAAAA;AAG1B,kBAAMoQ,IAAaxE,EAAK6C,WAAL7C,CAAiB9E,GAAjB8E,CAAqB5L,CAArB4L,EAA2B;AAC5CkD,uBAAM,CADsC;AAE5CE;AAF4C,eAA3BpD,CAAnB;AADE,qCAMIA,EAAK6C,WAAL7C,CAAiB0F,MAAjB1F,CAAwB;AAC5B5L,uBAD4B;AAE5B0H,uBAF4B;AAG5B0I,6BAH4B;AAI5BrO,yBAAS6J,EAAK2H;AAJc,eAAxB3H,CANJ,EAUc2H,IAVd,CAUcA;AAGhB3H,kBAAK6H,CAAL7H;AAAK6H,eAbH;AAaGA,aAfqBzT,EAerByT;AAQqB,oBAAtBpY,EAAOI,QAAPJ,EAAsB,IACxBuQ,EAAKuI,KAALvI,CAAW5L,EAAK2Q,OAAL3Q,CAAasF,GAAbtF,CAAiBoE,IAA5BwH,CADwB;AACIxH,aAxBJpE;AAwBIoE;AAAAA,WA5BdpE;AA4BcoE,SArDhC4K;AAAAA,YAqDgC5K,IAnDhC7I,IAFAyT;;AAEAzT,UAAKyE,IAALzE,CAAUoM,IAAVpM,CAAe+J,GAAf/J,GAAe+J;AACblB;AADakB,WAEVsG,EAAKtG,GAALsG,CAASjP,KAATiP,CAAexH,CAAfwH,CAFUtG,CAAf/J,EAIAqQ,EAAK5L,IAAL4L,CAAUtF,OAAVsF,GAAoBtF,CAJpB/K;;AAMA,YAAMmM,IAAOkE,EAAK8H,KAAL9H,CAAWL,GAAXK,CAAexH,CAAfwH,IACTA,EAAK8H,KAAL9H,CAAW/E,MAAX+E,CAAkBxH,CAAlBwH,EAAwB;AAAElF,kBAAQ;AAAV,SAAxBkF,EAA6CzC,OADpCyC,GAETA,EAAK8H,KAAL9H,CAAW7E,GAAX6E,CACExH,CADFwH,EAEEA,EAAKzC,OAALyC,CACExH,CADFwH,EAEEA,EAAKzB,OAFPyB,EAGEA,EAAKiJ,cAALjJ,CAAoBgI,IAApBhI,CAAoBgI,CAApBhI,EAA+BtF,CAA/BsF,CAHFA,CAFFA,EAOE,OAPFA,EAQEzC,OAVN;AAAA,YAUMA;AAAAA,cAGFyC,EAAK6C,WAAL7C,CAAiBkJ,UAHf3L,EAGe2L,uBACbpD,EAAehK,CAAfgK,EAAqB9F,EAAK5L,IAA1B0R,CADaoD,EACa9U,IADb8U,CACa9U,cADb8U;AACa9U,SAJ5BmJ,EAVN;;AAckCnJ;AAxUtC,OAkTIgP,CAlTJ;AAAA;AAAA;AAAA,SAiXS6F,cAjXT,GAiXSA,UAAevO,CAAfuO,EAAevO;AAEpB/K,WAAKkT,WAALlT,CAAiB+Y,SAAjB/Y,GAAiB+Y,CAAY,CAA7B/Y;;AAA6B,qCAFYmP,gCAEZ,EAFYA,KAEZ,EAFYA,KAEZ,EAFYA,GAEZ,EAFYA;;AAAAA,UAIlCtG,IAAoDsG,IAJlBA;AAAAA,UAI5BqK,IAA8CrK,IAJlBA;AAAAA,UAKnChE,IAASnL,KAAKmY,KAALnY,CAAWmR,SAAXnR,CAAqB6I,CAArB7I,CAL0BmP;AASzC,aAHAnP,KAAKmY,KAALnY,CAAKmY,MAALnY,CAAkB6I,CAAlB7I,GAAkB6I,EAIhB7I,KAAK+X,CAAL/X,IAAK+X,CACyD,CADzDA,KACL/X,KAAK+X,CAAL/X,CAAyB+K,CAAzB/K,EAAkCmL,CAAlCnL,EAA0C6I,CAA1C7I,EAAgDwZ,CAAhDxZ,CADAA,KAOa,YAAXmL,CAAW,IACbnL,KAAK4Y,KAAL5Y,CAAW6I,CAAX7I,CADa,EACF6I,CARX7I,CAJgB6I,CAGlB;AASaA,KAnYjB,EAmYiBA,EAQR4Q,QARQ5Q,GAQR4Q,UAAS5Q,CAAT4Q,EAAS5Q;AAAAA;AAGV7I,WAAKmY,KAALnY,CAAWgQ,GAAXhQ,CAAe6I,CAAf7I,KAIJA,KAAKmY,KAALnY,CAAWwL,GAAXxL,CACE6I,CADF7I,EAEEA,KAAK4N,OAAL5N,CACE6I,CADF7I,EAEEA,KAAK4O,OAFP5O,EAGEA,KAAKsZ,cAALtZ,CAAoBqY,IAApBrY,CAAyBA,IAAzBA,EAA+B,OAA/BA,CAHFA,EAGiC,KAHjCA,CAIQ,UAACK,CAAD,EAACA;AACPqZ,UAAKtJ,MAALsJ,CAAYrZ,KAAZqZ,CAAkBrZ,CAAlBqZ;AAAkBrZ,OALpBL,CAFFA,EASE,UATFA,CAJIA;AAaF,KA3ZN,EA2ZM,EAOIwY,CAPJ,GAOIA;AAAAA,OAEsB,CAFtBA,KAEFxY,KAAK2X,cAFHa,KAGJpR,SAASuS,gBAATvS,CAA0B,WAA1BA,EAAuCpH,KAAKoY,CAA5ChR,GACAA,SAASuS,gBAATvS,CAA0B,YAA1BA,EAAwCpH,KAAKoY,CAA7ChR,CAJIoR,GAMNpR,SAASuS,gBAATvS,CAA0B,OAA1BA,EAAmCpH,KAAKsY,CAAxClR,CANMoR,EAONpO,OAAOuP,gBAAPvP,CAAwB,UAAxBA,EAAoCpK,KAAKuY,CAAzCnO,CAPMoO;AAOmCD,KAza7C,EAya6CA,EAMnCI,CANmCJ,GAMnCI;AAAAA,OAEsB,CAFtBA,KAEF3Y,KAAK2X,cAFHgB,KAGJvR,SAASwS,mBAATxS,CAA6B,WAA7BA,EAA0CpH,KAAKoY,CAA/ChR,GACAA,SAASwS,mBAATxS,CAA6B,YAA7BA,EAA2CpH,KAAKoY,CAAhDhR,CAJIuR,GAMNvR,SAASwS,mBAATxS,CAA6B,OAA7BA,EAAsCpH,KAAKsY,CAA3ClR,CANMuR,EAONvO,OAAOwP,mBAAPxP,CAA2B,UAA3BA,EAAuCpK,KAAKuY,CAA5CnO,CAPMuO;AAOsCJ,KAtbhD,EAsbgDA,EAStCH,CATsCG,GAStCH,UAAa/Y,CAAb+Y,EAAa/Y;AAAAA;AAAAA,UACbwa,IAAO7Z,KAAK8Z,CAAL9Z,CAAqBX,CAArBW,CADMX;;AAGnB,UAAKwa,CAAL;AAIA,YAAMhR,IAAO7I,KAAKyG,GAALzG,CAAS0I,OAAT1I,CAAiB6Z,CAAjB7Z,CAAb;AAEIA,aAAKuG,OAALvG,CAAa6Q,SAAb7Q,CAAuB6I,CAAvB7I,KAKAA,KAAKmY,KAALnY,CAAWgQ,GAAXhQ,CAAe6I,CAAf7I,CALAA,IASJA,KAAKmY,KAALnY,CAAWwL,GAAXxL,CACE6I,CADF7I,EAEEA,KAAK4N,OAAL5N,CACE6I,CADF7I,EAEEA,KAAK4O,OAFP5O,EAGEA,KAAKsZ,cAALtZ,CAAoBqY,IAApBrY,CAAyBA,IAAzBA,EAA+B6Z,CAA/B7Z,CAHFA,EAGiC6Z,KAHjC7Z,CAIQ,UAACK,CAAD,EAACA;AACP0Z,YAAK3J,MAAL2J,CAAY1Z,KAAZ0Z,CAAkB1Z,CAAlB0Z;AAAkB1Z,SALpBL,CAFFA,EASE,OATFA,CATIA;AAkBF;AAAA,KA1dN,EA0dM,EAWIsY,CAXJ,GAWIA,UAAajZ,CAAbiZ,EAAajZ;AAEnB,UAAMwa,IAAO7Z,KAAK8Z,CAAL9Z,CAAqBX,CAArBW,CAAb;AAEA,UAAK6Z,CAAL,EAIA,OAAI7Z,KAAKkT,WAALlT,CAAiB+Y,SAAjB/Y,IAA8BA,KAAK4X,cAAnC5X,IACFX,EAAE8Z,cAAF9Z,IAAE8Z,KACF9Z,EAAE6Z,eAAF7Z,EAFEW,IAEAkZ,KAKJlZ,KAAK8Y,EAAL9Y,CAAQA,KAAKyG,GAALzG,CAAS0I,OAAT1I,CAAiB6Z,CAAjB7Z,CAARA,EAAgC6Z,CAAhC7Z,EAAsCX,CAAtCW,CAPA;AAOsCX,KApf1C,EAof0CA,EAShCkZ,CATgClZ,GAShCkZ,UAAelZ,CAAfkZ,EAAelZ;AACrBW,WAAK8Y,EAAL9Y,CAAQA,KAAK+J,GAAL/J,CAAS0I,OAAT1I,EAARA,EAA4B,UAA5BA,EAAwCX,CAAxCW;AAAwCX,KA9f5C,EA8f4CA,EASlCya,CATkCza,GASlCya,UAAgBza,CAAhBya,EAAgBza;AAGtB,WAFA,IAAIuH,IAAKvH,EAAEwS,MAEX,EAAOjL,MAAO5G,KAAKyG,GAALzG,CAAS0I,OAAT1I,CAAiB4G,CAAjB5G,CAAd,GACE4G,IAAMA,EAAmBqB,UAAzBrB;;AAIF,UAAKA,MAAM5G,KAAKuG,OAALvG,CAAa6S,SAAb7S,CAAuB4G,CAAvB5G,EAA2BX,CAA3BW,EAA8BA,KAAKyG,GAALzG,CAAS0I,OAAT1I,CAAiB4G,CAAjB5G,CAA9BA,CAAX,EAIA,OAAO4G,CAAP;AAAOA,KAnhBX,EAmhBWA,EAQDsR,CARCtR,GAQDsR;AACN,UAAMrP,IAAO7I,KAAK+J,GAAL/J,CAAS0I,OAAT1I,EAAb;AAAA,UACMoV,IAAU;AACdhP,mBAAWpG,KAAKyG,GAALzG,CAAS8H,YAAT9H,EADG;AAEdqM,cAAMrM,KAAKyG,GAALzG,CAASuH,OAATvH,EAFQ;AAGdsG,mBAAWtG,KAAKyG,GAALzG,CAASuI,YAATvI,EAHG;AAId+J;AACElB;AADFkB,WAEK/J,KAAK+J,GAAL/J,CAASoB,KAATpB,CAAe6I,CAAf7I,CAFL+J;AAJc,OADhB;AAWA/J,WAAKga,CAALha,GAAa;AACXoV,kBADW;AAEXhJ,oBAAWpM,KAAKkX,UAAhB9K,CAFW;AAGXrB,sBAAS1I;AAHE,OAAbrC,EAMAA,KAAKwP,KAALxP,CAAKwP,EAALxP,CAAc,OAAdA,EAAuBA,KAAKyE,IAA5BzE,CANAA;AAM4ByE,KA7iBhC,EA6iBgCA;AAAAA;AAAAA;AAlW5B,oBAAYuV,CAAZ;AAAYA;AAkWgBvV,OAlWhBuV;AAAAA;AAAAA;AAIZ,oBAAYhC,CAAZ;AAAYA;AAJAgC,KAkWgBvV,EA7iBhC,EA+MgBuT,CA/MhB;AA+MgBA,GAkWH,KD/kBF;AC6OKA,C;;;;;;;;;;;;;;;;;;;;;AChQhB;AACA;AAGA5Q,QAAQ,CAACuS,gBAAT,CAA0B,kBAA1B,EAA8C,UAAUrI,KAAV,EAAiB;AAC7D,MAAI2I,KAAK,GAAG7S,QAAQ,CAAC8S,gBAAT,CAA0B,eAA1B,CAAZ;AACA,MAAIC,KAAK,GAAG/S,QAAQ,CAACgT,cAAT,CAAwB,YAAxB,CAAZ;AACAD,OAAK,CAAClC,YAAN,CAAmB,oBAAnB,EAAyC,KAAzC;;AAH6D,6CAI1CgC,KAJ0C;AAAA;;AAAA;AAI7D,wDAA0B;AAAA,UAAfJ,IAAe;AACxBA,UAAI,CAACQ,SAAL,CAAepP,GAAf,CAAmB,UAAnB;AACD;AAN4D;AAAA;AAAA;AAAA;AAAA;AAO9D,CAPD,E;;;;;;;;;;;;;;;;ACJA;AAEO,IAAMqP,cAAc,GAAG;AAC5B1F,OAAK,EAAE,iBAAM;AACX,QAAI2F,EAAE,GAAGC,IAAI,CAACC,QAAL,EAAT;AACA,WAAOF,EAAE,CACNrG,EADI,CACD,WADC,EACY;AAACwG,aAAO,EAAE;AAAV,KADZ,EAEJxG,EAFI,CAED,gBAFC,EAEiB;AAACwG,aAAO,EAAE;AAAV,KAFjB,EAGJ/P,IAHI,CAGC,cAHD,EAGiBgQ,qDAHjB,EAIJhQ,IAJI,CAIC,oBAJD,EAIuBiQ,mDAJvB,EAKJjQ,IALI,CAKC,oBALD,EAKuBkQ,4DALvB,EAMJ3G,EANI,CAMD,gBANC,EAMiB;AAAC4G,qBAAe,EAAE;AAAlB,KANjB,EAOJ5G,EAPI,CAOD,cAPC,EAOe;AAAC6G,WAAK,EAAE;AAAR,KAPf,EAQJ7G,EARI,CAQD,oBARC,EAQqB;AAAC6G,WAAK,EAAE;AAAR,KARrB,CAAP;AASD,GAZ2B;AAa5BC,aAAW,EAAE,uBAAM;AACjBR,QAAI,CAAChP,GAAL,CAAS,gBAAT,EAA2B;AAACkP,aAAO,EAAE;AAAV,KAA3B;AACAF,QAAI,CAAChP,GAAL,CAAS,WAAT,EAAsB;AAACkP,aAAO,EAAE;AAAV,KAAtB;AACD;AAhB2B,CAAvB,C;;;;;;;;;;;;;;;;;;;ACFC,IAAIC,QAAQ,GAAG;AACrBM,WAAS,EAAE,CADU;AAErBC,UAAQ,EAAE,GAFW;AAGrB5Q,GAAC,EAAE,CAAC;AAHiB,CAAf;AAMD,IAAIuQ,eAAe,GAAG;AAC3BI,WAAS,EAAE,CADgB;AAE3B3Q,GAAC,EAAE,CAAC,EAFuB;AAG3B6Q,SAAO,EAAE;AAHkB,CAAtB;AAMA,IAAIC,aAAa,GAAG;AACzBH,WAAS,EAAE,CADc;AAEzBE,SAAO,EAAE;AAFgB,CAApB;AAKA,IAAIE,WAAW,GAAG;AACvBJ,WAAS,EAAE,CADY;AAEvBK,QAAM,EAAE,GAFe;AAGvBJ,UAAQ,EAAE;AAHa,CAAlB;AAMA,IAAIN,MAAM,GAAG;AAClBK,WAAS,EAAE,CADO;AAElBC,UAAQ,EAAE;AAFQ,CAAb,C;;;;;;;;;;;;;;;;;ACvBP;AACA;AACA;AACA;AAEAK,uDAAA,CAAW;AACTrI,aAAW,EAAE,CAAC;AACZ9S,QAAI,EAAE,oBADM;AAEZuU,SAFY,iBAENlQ,IAFM,EAEA;AACV+W,qEAAA;AACD,KAJW;AAKZ5G,SALY,iBAKNnQ,IALM,EAKA;AACV+W,wEAAA;AACApR,YAAM,CAACqR,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD;AARW,GAAD,CADJ;AAWTlF,OAAK,EAAE,CAAC;AACNjQ,aAAS,EAAE,OADL;AAENoV,cAFM,sBAEKjX,IAFL,EAEW;AACf6V,mEAAA,GAAuB/U,KAAvB;AACD,KAJK;AAKNyV,eALM,uBAKMvW,IALN,EAKY;AAChB6V,yEAAA;AACD;AAPK,GAAD,EASL;AACEhU,aAAS,EAAE,MADb;AAEEoV,cAFF,sBAEajX,IAFb,EAEmB;AACfkX,mEAAA,GAAuBpW,KAAvB;AACD,KAJH;AAKEyV,eALF,uBAKcvW,IALd,EAKoB;AAChBkX,yEAAA;AACD;AAPH,GATK;AAXE,CAAX;AAgCAJ,+DAAA,CAAmB,YAAM;AACvBnU,UAAQ,CAACQ,aAAT,CAAuB,MAAvB,EAA+ByS,SAA/B,CAAyCpP,GAAzC,CAA6C,kBAA7C;AACD,CAFD;AAGAsQ,8DAAA,CAAkB,YAAM;AACtBnU,UAAQ,CAACQ,aAAT,CAAuB,MAAvB,EAA+ByS,SAA/B,CAAyC5O,MAAzC,CAAgD,kBAAhD;AACD,CAFD;AAGA8P,8DAAA,CAAkB,YAAM;AACtBC,oEAAA;AACApR,QAAM,CAACqR,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,CAHD,E;;;;;;;;;;;;;;;;AC3CA;AAEO,IAAME,cAAc,GAAG;AAC5BhH,OAAK,EAAE,iBAAM;AACX6F,QAAI,CAAChP,GAAL,CAAS,eAAT,EAA0B;AAACkP,aAAO,EAAE;AAAV,KAA1B;AACAF,QAAI,CAAChP,GAAL,CAAS,WAAT,EAAsB;AAACkP,aAAO,EAAE;AAAV,KAAtB;AACD,GAJ2B;AAK5BM,aAAW,EAAE,uBAAM;AACjBxa,WAAO,CAACK,GAAR,CAAY,SAAZ;AACA,QAAI0Z,EAAE,GAAGC,IAAI,CAACC,QAAL,EAAT;AACA,WAAOF,EAAE,CACNrG,EADI,CACD,WADC,EACY;AAACwG,aAAO,EAAE;AAAV,KADZ,EAEJxG,EAFI,CAED,eAFC,EAEgB;AAACwG,aAAO,EAAE;AAAV,KAFhB,EAGJ/P,IAHI,CAGC,uBAHD,EAG0ByQ,0DAH1B,CAAP;AAID;AAZ2B,CAAvB,C;;;;;;;;;;;;;;;ACFA,IAAMI,eAAe,GAAG;AAC7BI,OAAK,EAAE,iBAAM;AACXpB,QAAI,CAAChP,GAAL,CAAS,SAAT,EAAoB;AAClB8P,YAAM,EAAE,CADU;AAElBO,cAAQ,EAAE,EAFQ;AAGlBC,cAAQ,EAAE,CAAC,CAHO;AAIlBC,cAAQ,EAAE,CAAC,EAJO;AAKlBC,qBAAe,EAAE,aALC;AAMlBf,eAAS,EAAE;AANO,KAApB;AAQD,GAV4B;AAW7BgB,UAAQ,EAAE,oBAAM;AACd,QAAI1B,EAAE,GAAGC,IAAI,CAACC,QAAL,CAAc;AACrByB,gBAAU,EAAEV,eAAe,CAACW;AADP,KAAd,CAAT;AAGA5B,MAAE,CAAC6B,MAAH,CAAU,SAAV,EACE;AACEP,cAAQ,EAAE,EADZ;AAEEP,YAAM,EAAE,CAFV;AAGEQ,cAAQ,EAAE,CAAC;AAHb,KADF,EAME;AACEZ,cAAQ,EAAE,GADZ;AAEEY,cAAQ,EAAE,CAFZ;AAGER,YAAM,EAAE,CAHV;AAIEO,cAAQ,EAAE,CAJZ;AAKEQ,UAAI,EAAE,cALR;AAMEL,qBAAe,EAAE;AANnB,KANF;AAcD,GA7B4B;AA8B7BG,YAAU,EAAE,sBAAM;AAChB3B,QAAI,CAACtG,EAAL,CAAQ,SAAR,EAAmB;AACjBgH,cAAQ,EAAE,GADO;AAEjBI,YAAM,EAAE,CAFS;AAGjBQ,cAAQ,EAAE,CAHO;AAIjBD,cAAQ,EAAE,CAAC,EAJM;AAKjBG,qBAAe,EAAE,cALA;AAMjBK,UAAI,EAAE;AANW,KAAnB;AAQD;AAvC4B,CAAxB,C;;;;;;;;;;ACAP,uC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA;WACA,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,sF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"frontend-bundle.js","sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","/**\n * @barba/core/modules/Logger\n * <br><br>\n * ## Logger.\n *\n * - Display informations via the console\n *\n * @module core/modules/Logger\n * @preferred\n */\n\n/***/\n\n/**\n * Log levels, all lower level messages are printed\n *\n * 0. mute\n * 1. error = `console.error()`\n * 2. warning= `console.warn()`\n * 3. info = `console.info()`\n * 4. debug = `console.log()`\n */\nexport enum LogLevels {\n  off = 0,\n  error = 1,\n  warning = 2,\n  info = 3,\n  debug = 4,\n}\n\n/**\n * Global log level\n */\nlet _level: number = LogLevels.off;\n\nexport class Logger {\n  /**\n   * Get global log level.\n   */\n  public static getLevel(): number {\n    return _level;\n  }\n\n  /**\n   * Set global log level.\n   */\n  public static setLevel(name: keyof typeof LogLevels): number {\n    _level = LogLevels[name];\n\n    return _level;\n  }\n\n  /**\n   * Log \"prefix\".\n   */\n  private _source: string;\n\n  /**\n   * Creates an instance of Logger.\n   */\n  constructor(source: string) {\n    this._source = source;\n  }\n\n  /**\n   * Permanent, unremovable log.\n   */\n  // public print(...objects: any[]): void {\n  //   this._log(console.info, LogLevels.off, objects);\n  // }\n\n  /**\n   * Error log.\n   */\n  public error(...objects: any[]): void {\n    this._log(console.error, LogLevels.error, objects);\n  }\n\n  /**\n   * Warn log.\n   */\n  public warn(...objects: any[]): void {\n    this._log(console.warn, LogLevels.warning, objects);\n  }\n\n  /**\n   * Info log.\n   */\n  public info(...objects: any[]): void {\n    this._log(console.info, LogLevels.info, objects);\n  }\n\n  /**\n   * Debug log.\n   */\n  public debug(...objects: any[]): void {\n    this._log(console.log, LogLevels.debug, objects);\n  }\n\n  /**\n   * Internal logger.\n   */\n  private _log(fn: () => void, level: number, objects: any[]): void {\n    if (level <= Logger.getLevel()) {\n      fn.apply(console, ([`[${this._source}] `].concat(objects) as unknown) as [\n\n      ]);\n    }\n  }\n}\n","/**\n * @module typings/core\n */\nimport { ITransitionData, ITransitionPage, IViewData } from './index';\n\nexport type HooksBarba =\n  | 'ready'\n  | 'page'\n  | 'reset'\n  | 'currentAdded'\n  | 'currentRemoved'\n  | 'nextAdded'\n  | 'nextRemoved';\n\nexport type HooksOnce = 'beforeOnce' | 'once' | 'afterOnce';\n\nexport type HooksPage =\n  | 'before'\n  | 'beforeLeave'\n  | 'leave'\n  | 'afterLeave'\n  | 'beforeEnter'\n  | 'enter'\n  | 'afterEnter'\n  | 'after';\n\nexport type HooksBefore = 'beforeOnce' | 'beforeLeave' | 'beforeEnter';\nexport type HooksAfter = 'afterOnce' | 'afterLeave' | 'afterEnter';\n\nexport type HooksTransition = HooksOnce | HooksPage;\nexport type HooksView = HooksBefore | HooksAfter;\nexport type HooksAll = HooksBarba | HooksTransition;\n\n// Allow optional \"dynamically created\" hooks\nexport type HooksTransitionMap = { [key in HooksTransition]?: any };\n\nexport type HookFunction = (\n  data?: ITransitionData | IViewData,\n  t?: ITransitionPage\n) => Promise<void> | void;\n\nexport class HookMethods {\n  public before: (fn: HookFunction, ctx?: any) => void;\n  public beforeLeave: (fn: HookFunction, ctx?: any) => void;\n  public leave: (fn: HookFunction, ctx?: any) => void;\n  public afterLeave: (fn: HookFunction, ctx?: any) => void;\n  public beforeEnter: (fn: HookFunction, ctx?: any) => void;\n  public enter: (fn: HookFunction, ctx?: any) => void;\n  public afterEnter: (fn: HookFunction, ctx?: any) => void;\n  public after: (fn: HookFunction, ctx?: any) => void;\n}\n","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.match = match\nmodule.exports.regexpToFunction = regexpToFunction\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var whitelist = (options && options.whitelist) || undefined\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n      var c = path[k]\n      var matches = whitelist ? whitelist.indexOf(c) > -1 : true\n\n      if (matches) {\n        prev = c\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var pattern = capture || group\n    var delimiter = prev || defaultDelimiter\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: pattern\n        ? escapeGroup(pattern)\n        : '[^' + escapeString(delimiter === defaultDelimiter ? delimiter : (delimiter + defaultDelimiter)) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nfunction match (str, options) {\n  var keys = []\n  var re = pathToRegexp(str, keys, options)\n  return regexpToFunction(re, keys)\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nfunction regexpToFunction (re, keys) {\n  return function (pathname, options) {\n    var m = re.exec(pathname)\n    if (!m) return false\n\n    var path = m[0]\n    var index = m.index\n    var params = {}\n    var decode = (options && options.decode) || decodeURIComponent\n\n    for (var i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue\n\n      var key = keys[i - 1]\n\n      if (key.repeat) {\n        params[key.name] = m[i].split(key.delimiter).map(function (value) {\n          return decode(value, key)\n        })\n      } else {\n        params[key.name] = decode(m[i], key)\n      }\n    }\n\n    return { path: path, index: index, params: params }\n  }\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n    var validate = options ? options.validate !== false : true\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (validate && !matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) continue\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = options.delimiter || DEFAULT_DELIMITER\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (!token.prefix) {\n          route += '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + escapeString(delimiter) + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    var endToken = tokens[tokens.length - 1]\n    var isEndDelimited = typeof endToken === 'string'\n      ? endToken[endToken.length - 1] === delimiter\n      : endToken === undefined\n\n    if (!strict) route += '(?:' + escapeString(delimiter) + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + escapeString(delimiter) + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","/**\n * @barba/core/schemas\n * <br><br>\n * ## Schemas description.\n *\n * @module core/schemas\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { ISchemaAttribute } from '../defs';\n\n/**\n * See [[ISchemaAttribute]]\n */\nexport const schemaAttribute: ISchemaAttribute = {\n  container: 'container',\n  history: 'history',\n  namespace: 'namespace',\n  prefix: 'data-barba',\n  prevent: 'prevent',\n  wrapper: 'wrapper',\n};\n","/**\n * @barba/core/utils/dom\n * <br><br>\n * ## Dom utils\n *\n * - Access DOM contents\n * - DOM vs string conversions\n *\n * @module core/utils/dom\n * @preferred\n */\n\n/***/\n\nimport path from 'path';\n\n// Definitions\nimport { ISchemaAttribute, Link, Scope, Wrapper } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\nexport class Dom {\n  private _attr: ISchemaAttribute = schemaAttribute;\n  private _parser: DOMParser = new DOMParser();\n\n  /**\n   * Convert HTMLDocument to string.\n   */\n  public toString(el: HTMLElement): string {\n    return el.outerHTML;\n  }\n\n  /**\n   * Parse HTML string to HTMLDocument.\n   */\n  // see https://github.com/barbajs/barba/issues/362\n  // Seems that using DOMParser.parseFromString causes this issue.\n  public toDocument(htmlString: string): HTMLDocument {\n    return this._parser.parseFromString(htmlString, 'text/html');\n  }\n\n  /**\n   * Parse HTML string to DIVElement.\n   *\n   * DOMParser.parseFromString fails with img[srcset] on iOS.\n   * see https://github.com/barbajs/barba/issues/362\n   */\n  public toElement(htmlString: string): HTMLDivElement {\n    const div = document.createElement('div');\n\n    div.innerHTML = htmlString;\n    return div;\n  }\n\n  /**\n   * Get HTML content.\n   */\n  public getHtml(doc: HTMLDocument = document): string {\n    return this.toString(doc.documentElement);\n  }\n\n  /**\n   * Get full document content.\n   */\n  // getDocument(el = document.documentElement) {\n  //   return this.toStr(el);\n  // },\n\n  /**\n   * Get `[data-barba=\"wrapper\"]`.\n   */\n  public getWrapper(scope: Scope = document): Wrapper {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.wrapper}\"]`\n    );\n  }\n\n  /**\n   * Get `[data-barba=\"container\"]`.\n   */\n  public getContainer(scope: Scope = document): HTMLElement | null {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.container}\"]`\n    );\n  }\n\n  /**\n   * Remove container and store next sibling (if applicable).\n   */\n  public removeContainer(container: HTMLElement) {\n    if (document.body.contains(container)) {\n      container.parentNode.removeChild(container);\n    }\n  }\n\n  /**\n   * Add container before next sibling or at the end of the wrapper.\n   */\n  public addContainer(container: HTMLElement, wrapper: HTMLElement) {\n    const existingContainer = this.getContainer();\n\n    if (existingContainer) {\n      this._insertAfter(container, existingContainer);\n    } else {\n      wrapper.appendChild(container);\n    }\n  }\n\n  /**\n   * Get `[data-barba-namespace]`.\n   */\n  public getNamespace(scope: Scope = document): string | null {\n    const ns = scope.querySelector(\n      `[${this._attr.prefix}-${this._attr.namespace}]`\n    );\n\n    return ns\n      ? ns.getAttribute(`${this._attr.prefix}-${this._attr.namespace}`)\n      : null;\n  }\n\n  /**\n   * Get URL from `href` value.\n   */\n  public getHref(el: Link): string | null {\n    // HTML tagName is UPPERCASE, xhtml tagName keeps existing case.\n    if (el.tagName && el.tagName.toLowerCase() === 'a') {\n      // HTMLAnchorElement, full URL available\n      if (typeof el.href === 'string') {\n        return el.href;\n      }\n\n      // Probably a SVGAElement…\n      const href = el.getAttribute('href') || el.getAttribute('xlink:href');\n\n      /* istanbul ignore else */\n      if (href) {\n        // When link comes from SVG, `href` returns an object, not a string.\n        const attr: string =\n          ((href as unknown) as SVGAnimatedString).baseVal || href;\n\n        return this.resolveUrl(attr);\n      }\n    }\n    return null;\n  }\n\n  // Copyright 2014 Simon Lydell\n  // X11 (“MIT”) Licensed. (See LICENSE\n  // https://github.com/lydell/resolve-url/blob/master/resolve-url.js\n  /* istanbul ignore next */\n  public resolveUrl(...urls: string[]) {\n    const numUrls = urls.length;\n\n    if (numUrls === 0) {\n      throw new Error('resolveUrl requires at least one argument; got none.');\n    }\n\n    const base = document.createElement('base');\n    base.href = arguments[0];\n\n    if (numUrls === 1) {\n      return base.href;\n    }\n\n    const head = document.getElementsByTagName('head')[0];\n    head.insertBefore(base, head.firstChild);\n\n    const a = document.createElement('a');\n    let resolved;\n\n    for (let index = 1; index < numUrls; index++) {\n      a.href = arguments[index];\n      resolved = a.href;\n      base.href = resolved;\n    }\n\n    head.removeChild(base);\n\n    return resolved;\n  }\n\n  /**\n   * Insert node after another node.\n   */\n  private _insertAfter(newNode: Node, referenceNode: Node) {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n  }\n}\n\nconst dom = new Dom();\n\nexport { dom };\n","import { HistoryAction, LinkEvent, Trigger } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\n/**\n * @barba/core/utils/history\n * <br><br>\n * ## History manager.\n *\n * - Keep track of the navigation history\n *\n * @module core/utils/history\n * @preferred\n */\n\n/**\n * State item.\n *\n * @property from\n * @property index\n */\ninterface IHistoryItem {\n  /** origin */\n  from: string;\n  /** index */\n  index: number;\n  /** states */\n  states: IStateItem[];\n}\n\n/***/\ninterface ICoords {\n  x: number;\n  y: number;\n}\n\n/**\n * History item.\n *\n * @property namespace\n * @property scroll\n * @property URL\n */\ninterface IStateItem {\n  /** namespace */\n  ns: string | undefined;\n  /** Scroll position */\n  scroll: ICoords;\n  /** URL */\n  url: string;\n}\n\nexport class History {\n  private _session: string;\n  private _states: IStateItem[] = [];\n  private _pointer = -1;\n\n  /**\n   * Init with first state.\n   */\n  public init(url: string, ns: string): void {\n    this._session = 'barba';\n    const index = 0;\n\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    window.history && window.history.replaceState(item, '', url);\n  }\n\n  public change(\n    url: string,\n    trigger: Trigger,\n    e?: LinkEvent | PopStateEvent\n  ): Trigger {\n    if (e && (e as PopStateEvent).state) {\n      // If popstate, move to existing state\n      // and get back/forward direction.\n      const { state }: { state: IHistoryItem } = e as PopStateEvent;\n      const { index } = state;\n      const diff = this._pointer - index;\n\n      trigger = this._getDirection(diff);\n\n      // Work with previous states\n      this.replace(state.states);\n      this._pointer = index;\n    } else {\n      // Add new state\n      this.add(url, trigger);\n    }\n\n    return trigger;\n  }\n\n  /**\n   * Add a new state.\n   */\n  public add(url: string, trigger: Trigger): void {\n    // If no state, it will be updated later.\n    const ns = 'tmp';\n    const index = this.size;\n    const action = this._getAction(trigger);\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    switch (action) {\n      case 'push':\n        window.history && window.history.pushState(item, '', url);\n        break;\n      case 'replace':\n        window.history && window.history.replaceState(item, '', url);\n        break;\n      /* istanbul ignore next */\n      default:\n    }\n  }\n\n  /**\n   * Update state.\n   */\n  public update(data: any, i?: number): void {\n    const index = i || this._pointer;\n    const existing = this.get(index);\n    const state: IStateItem = {\n      ...existing,\n      ...data,\n    };\n\n    this.set(index, state);\n  }\n\n  /**\n   * Remove last state.\n   */\n  public remove(i?: number): void {\n    if (i) {\n      this._states.splice(i, 1);\n    } else {\n      this._states.pop();\n    }\n\n    this._pointer--;\n  }\n\n  /**\n   * Delete all states.\n   */\n  public clear(): void {\n    this._states = [];\n    this._pointer = -1;\n  }\n\n  /**\n   * Replace all states.\n   */\n  public replace(newStates: IStateItem[]): void {\n    this._states = newStates;\n  }\n\n  /**\n   * Get state by index.\n   */\n  public get(index: number) {\n    return this._states[index];\n  }\n\n  /**\n   * Set state by index.\n   */\n  public set(i: number, state: IStateItem) {\n    return (this._states[i] = state);\n  }\n\n  /**\n   * Get the current state.\n   */\n  get current(): IStateItem {\n    return this._states[this._pointer];\n  }\n\n  /**\n   * Get the last state (top of the history stack).\n   */\n  get state(): IStateItem {\n    return this._states[this._states.length - 1];\n  }\n\n  /**\n   * Get the previous state.\n   */\n  get previous(): IStateItem | null {\n    return this._pointer < 1 ? null : this._states[this._pointer - 1];\n  }\n\n  /**\n   * Get the state size.\n   */\n  get size(): number {\n    return this._states.length;\n  }\n\n  /**\n   * Get the history action: push vs replace\n   */\n  private _getAction(trigger: Trigger): HistoryAction {\n    let action: HistoryAction = 'push';\n\n    // Manage `data-barba-history` attribute\n    // to get the right action (push vs replace).\n    const el = trigger as HTMLAnchorElement;\n    const attr = `${schemaAttribute.prefix}-${schemaAttribute.history}`;\n\n    if (el.hasAttribute && el.hasAttribute(attr)) {\n      action = el.getAttribute(attr) as HistoryAction;\n    }\n\n    return action;\n  }\n\n  /**\n   * Get the direction of popstate change\n   */\n  private _getDirection(diff: number): Trigger {\n    // Check if \"session switch\"\n    if (Math.abs(diff) > 1) {\n      // Ex 6-0 > 0 -> forward, 0-6 < 0 -> back\n      return diff > 0 ? 'forward' : 'back';\n    } else {\n      if (diff === 0) {\n        return 'popstate';\n      } else {\n        // Ex 6-5 > 0 -> back, 5-6 < 0 -> forward\n        return diff > 0 ? 'back' : 'forward';\n      }\n    }\n  }\n}\n\nconst history = new History();\n\nexport { history };\n","/**\n * @barba/core/utils/helpers\n * <br><br>\n * ## Helpers\n *\n * - Update next page data\n *\n * @module core/utils/helpers\n * @preferred\n */\n\n/***/\n\n// Third-party\nimport ptr from 'path-to-regexp';\n// Definitions\nimport { ITransitionData } from '../defs';\n// Utils\nimport { dom } from './dom';\nimport { history } from './history';\n\n/**\n * Update `data.next`, the title and the history\n */\nexport const update = async (\n  page: Promise<string | void>,\n  data: ITransitionData\n): Promise<void> => {\n  // If not already updated\n  if (!data.next.html) {\n    const html = await page;\n    const { next } = data;\n\n    if (html) {\n      // see: https://github.com/barbajs/barba/issues/362\n      // const nextDocument = dom.toDocument(html);\n      const nextDocument = dom.toElement(html);\n\n      next.namespace = dom.getNamespace(nextDocument);\n      next.container = dom.getContainer(nextDocument);\n      // see https://github.com/barbajs/barba/issues/362\n      // next.html = dom.getHtml(nextDocument);\n      // next.html = nextDocument.innerHTML;\n      next.html = html;\n\n      // Update history namespace (not available when initially set)\n      history.update({ ns: next.namespace });\n\n      // Update title.\n      const { title } = dom.toDocument(html);\n\n      document.title = title;\n    }\n  }\n};\n\n/**\n * Next tick\n */\nexport const nextTick = () =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve);\n    // DEV: same result?\n    // setTimeout(resolve, 0);\n  });\n\n/**\n * Turn a route string such as `/user/:name` into a regular expression.\n *\n * Used for:\n *\n * - routes to ignore\n * - route transition resolution\n *\n * @see https://www.npmjs.com/package/path-to-regexp\n */\nconst pathToRegexp = ptr;\n\nexport { pathToRegexp };\n","/**\n * @barba/core/utils/url\n * <br><br>\n * ## URL utils.\n *\n * - Collect and structure informations from URLs\n *\n * @module core/utils/url\n */\n\n/***/\n\n// Definitions\nimport { IGenericObject, IUrlBase } from '../defs';\n\n/**\n * Get location href.\n */\nexport const getHref = () => window.location.href;\n\n/**\n * Get location origin.\n */\nexport const getOrigin = () => window.location.origin;\n\n/**\n * Get port based on URL or location.\n */\nexport const getPort = (url: string = window.location.href) => parse(url).port;\n\n/**\n * Get path from URL.\n */\nexport const getPath = (url: string = window.location.href) => parse(url).path;\n\n/**\n * Get query object from URL.\n */\n// export const getQuery = (url: string): IGenericObject => parse(url).query;\n\n/**\n * Get hash from URL.\n */\n// export const getHash = (url: string): string => parse(url).hash;\n\n/**\n * Parse URL for path, query and hash and more.\n */\nexport const parse = (url: string): IUrlBase => {\n  // Port\n  let port;\n  const matches = url.match(/:\\d+/);\n\n  if (matches === null) {\n    if (/^http/.test(url)) {\n      port = 80;\n    }\n\n    if (/^https/.test(url)) {\n      port = 443;\n    }\n  } else {\n    const portString = matches[0].substring(1);\n\n    port = parseInt(portString, 10);\n  }\n\n  // Path\n  let path = url.replace(getOrigin(), '');\n  let hash;\n  let query = {};\n\n  // Hash\n  const hashIndex = path.indexOf('#');\n\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex + 1);\n    path = path.slice(0, hashIndex);\n  }\n\n  // Query\n  const queryIndex = path.indexOf('?');\n\n  if (queryIndex >= 0) {\n    query = parseQuery(path.slice(queryIndex + 1));\n    path = path.slice(0, queryIndex);\n  }\n\n  return {\n    hash,\n    path,\n    port,\n    query,\n  };\n};\n\n/**\n * Parse a query string to object.\n */\nexport const parseQuery = (str: string) =>\n  str.split('&').reduce((acc: IGenericObject, el: string) => {\n    const [key, value] = el.split('=');\n\n    acc[key] = value;\n\n    return acc;\n  }, {});\n\n/**\n * Clean URL, remove \"hash\" and/or \"trailing slash\".\n */\nexport const clean = (url: string = window.location.href) =>\n  url.replace(/(\\/#.*|\\/|#.*)$/, '');\n","/**\n * @barba/core/utils/request\n * <br><br>\n * ## Fetch pages for transitions.\n *\n * - Includes timeout\n * - Uses Fetch API\n * - Handles errors\n *\n * @module core/utils/request\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { RequestError } from '../defs';\n\n/**\n * Init a page request.\n * Fetch the page and returns a promise with the text content.\n */\nfunction request(\n  url: string,\n  ttl: number = 2e3,\n  requestError: RequestError\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (xhr.status === 200) {\n          resolve(xhr.responseText);\n        } else if (xhr.status) {\n          // HTTP code is not 200, reject with response.\n          const res = {\n            status: xhr.status,\n            statusText: xhr.statusText,\n          };\n          requestError(url, res);\n          reject(res);\n        }\n      }\n    };\n    xhr.ontimeout = () => {\n      const err = new Error(`Timeout error [${ttl}]`);\n      requestError(url, err);\n      reject(err);\n    };\n    xhr.onerror = () => {\n      const err = new Error(`Fetch error`);\n      requestError(url, err);\n      reject(err);\n    };\n\n    xhr.open('GET', url);\n    xhr.timeout = ttl;\n    xhr.setRequestHeader(\n      'Accept',\n      'text/html,application/xhtml+xml,application/xml'\n    );\n    xhr.setRequestHeader('x-barba', 'yes');\n    xhr.send();\n  });\n}\n\nexport { request };\n","module.exports = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","import isPromise from 'is-promise';\n\n// https://github.com/SBoudrias/run-async\n/* istanbul ignore next */\nexport function runAsync(\n  func: (...args: any[]) => void | Promise<any>,\n  ctx: any = {}\n): (...args: any[]) => Promise<any> {\n  return (...args: any[]) => {\n    let async = false;\n\n    const promise = new Promise((resolve, reject) => {\n      // Add async to context\n      ctx.async = () => {\n        async = true;\n\n        return (err: any, value: any) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(value);\n          }\n        };\n      };\n\n      const answer = func.apply(ctx, args as []);\n\n      if (!async) {\n        if (isPromise(answer)) {\n          (answer as Promise<any>).then(resolve, reject);\n        } else {\n          resolve(answer);\n        }\n      }\n    });\n\n    return promise;\n  };\n}\n","/**\n * @barba/core/modules/hooks\n * <br><br>\n * ## Hooks manager.\n *\n * - Register and trigger hooks\n *\n * Hooks can be easily registered:\n *\n * ```js\n * hooks.leave(callback, context);\n * ```\n *\n * @module core/modules/hooks\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HookFunction, HookMethods, HooksAll } from './defs';\n// Modules\nimport { Logger } from './modules/Logger';\n// Utils\nimport { runAsync } from './utils';\n// Types\ninterface IHookInfos {\n  ctx: any;\n  fn: HookFunction;\n}\n\nexport class Hooks extends HookMethods {\n  /**\n   * Allow the use of `hooks[name](cb, ctx)`.\n   */\n  [key: string]: any;\n  // [key in HooksAll]?: any;\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All available hooks.\n   *\n   * See [[HooksAll]]\n   */\n  // TODO: get hooks from defs (DRY)?\n  public all: HooksAll[] = [\n    'ready',\n    'page',\n    'reset',\n    'currentAdded',\n    'currentRemoved',\n    'nextAdded',\n    'nextRemoved',\n    'beforeOnce',\n    'once',\n    'afterOnce',\n    'before',\n    'beforeLeave',\n    'leave',\n    'afterLeave',\n    'beforeEnter',\n    'enter',\n    'afterEnter',\n    'after',\n  ];\n  /**\n   * Registered hooks.\n   *\n   * - Unique hook name\n   * - Associated data set(s) (callback + context)\n   */\n  public registered: Map<HooksAll, Set<IHookInfos>> = new Map();\n\n  constructor() {\n    super();\n    this.init();\n  }\n\n  public init() {\n    this.registered.clear();\n    this.all.forEach(hook => {\n      if (!this[hook]) {\n        this[hook] = (fn: HookFunction, ctx?: any) => {\n          if (!this.registered.has(hook)) {\n            this.registered.set(hook, new Set());\n          }\n          const set = this.registered.get(hook);\n\n          set.add({\n            ctx: ctx || {},\n            fn,\n          });\n        };\n      }\n    });\n  }\n\n  /**\n   * Do hook.\n   *\n   * Trigger registered hooks.\n   */\n  public do(name: HooksAll, ...args: any): Promise<any> {\n    if (this.registered.has(name)) {\n      // Let's start a chain of promises\n      let chain = Promise.resolve();\n\n      this.registered.get(name).forEach(hook => {\n        // Chain async hooks promisified\n        chain = chain.then(() => runAsync(hook.fn, hook.ctx)(...args));\n      });\n\n      return chain.catch(error => {\n        this.logger.debug(`Hook error [${name}]`);\n        this.logger.error(error);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  public clear(): void {\n    this.all.forEach(hook => {\n      delete this[hook];\n    });\n\n    this.init();\n  }\n\n  /**\n   * Help, print available and registered hooks.\n   */\n  public help(): void {\n    this.logger.info(`Available hooks: ${this.all.join(',')}`);\n    const registered: string[] = [];\n    this.registered.forEach((value, key) => registered.push(key));\n    this.logger.info(`Registered hooks: ${registered.join(',')}`);\n  }\n}\n\nconst hooks = new Hooks();\n\nexport { hooks };\n","/**\n * @barba/core/modules/ignore\n * <br><br>\n * ## Manage ignore options.\n *\n * - cache\n * - prefetch\n *\n * @module core/modules/ignore\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption } from '../defs';\n// Utils\nimport { pathToRegexp } from '../utils/helpers';\nimport { parse } from '../utils/url';\n\nexport class Ignore {\n  private _ignoreAll: boolean;\n  private _ignoreRegexes: RegExp[] = [];\n\n  constructor(ignore: IgnoreOption) {\n    if (typeof ignore === 'boolean') {\n      this._ignoreAll = ignore;\n    } else {\n      const paths = Array.isArray(ignore) ? ignore : [ignore];\n\n      this._ignoreRegexes = paths.map(p => pathToRegexp(p));\n    }\n  }\n\n  public checkHref(href: string): boolean {\n    if (typeof this._ignoreAll === 'boolean') {\n      return this._ignoreAll;\n    }\n\n    const { path } = parse(href);\n\n    return this._ignoreRegexes.some(regex => regex.exec(path) !== null);\n  }\n}\n","/**\n * @barba/core/modules/cache\n * <br><br>\n * ## Cache for storing URL / HTML.\n *\n * @module core/modules/cache\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { CacheAction, CacheRequest, ICacheData, IgnoreOption } from '../defs';\n// Modules\nimport { Ignore } from './Ignore';\n\nexport class Cache extends Ignore {\n  private _state: Map<string, ICacheData> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n  }\n\n  /**\n   * Set value to cache\n   */\n  public set(\n    href: string,\n    request: CacheRequest,\n    action: CacheAction\n  ): ICacheData {\n    this._state.set(href, {\n      action,\n      request,\n    });\n\n    return {\n      action,\n      request,\n    };\n  }\n\n  /**\n   * Get data from cache\n   */\n  public get(href: string): ICacheData {\n    return this._state.get(href);\n  }\n\n  /**\n   * Get request from cache\n   */\n  public getRequest(href: string): CacheRequest {\n    return this._state.get(href).request;\n  }\n\n  /**\n   * Get action from cache\n   */\n  public getAction(href: string): CacheAction {\n    return this._state.get(href).action;\n  }\n\n  /**\n   * Check if value exists into cache\n   */\n  public has(href: string): boolean {\n    /* istanbul ignore else */\n    if (this.checkHref(href)) {\n      return false;\n    }\n    return this._state.has(href);\n  }\n\n  /**\n   * Delete value from cache\n   */\n  public delete(href: string): boolean {\n    return this._state.delete(href);\n  }\n\n  /**\n   * Update cache value\n   */\n  public update(href: string, data: ICacheData): ICacheData {\n    const state = {\n      ...this._state.get(href),\n      ...data,\n    };\n    this._state.set(href, state);\n\n    return state;\n  }\n}\n","/**\n * @barba/core/modules/prevent\n * <br><br>\n * ## Prevent checks.\n *\n * - Gathers all the tests that allow Barba to work and play transitions\n *\n * @module core/modules/prevent\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption, Link, PreventCheck } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n// Utils\nimport { url } from '../utils';\n// Modules\nimport { Ignore } from './Ignore';\n\n/**\n * Make sure the browser supports `history.pushState`.\n */\nconst pushState: PreventCheck = () => !window.history.pushState;\n\n/**\n * Make sure there is an `el` and `href`.\n */\nconst exists: PreventCheck = ({ el, href }) => !el || !href;\n\n/**\n * If the user is pressing ctrl + click, the browser will open a new tab.\n */\nconst newTab: PreventCheck = ({ event }) =>\n  (event as KeyboardEvent).which > 1 ||\n  (event as KeyboardEvent).metaKey ||\n  (event as KeyboardEvent).ctrlKey ||\n  (event as KeyboardEvent).shiftKey ||\n  (event as KeyboardEvent).altKey;\n\n/**\n * If the link has `_blank` target.\n */\nconst blank: PreventCheck = ({ el }) =>\n  el.hasAttribute('target') && (el as Link).target === '_blank';\n\n/**\n * If the domain is the same (in order to avoid pushState cross origin security problem).\n * Note: SVGAElement do not have `protocol` neither `hostname` properties.\n */\nconst corsDomain: PreventCheck = ({ el }) =>\n  ((el as HTMLAnchorElement).protocol !== undefined &&\n    window.location.protocol !== (el as HTMLAnchorElement).protocol) ||\n  ((el as HTMLAnchorElement).hostname !== undefined &&\n    window.location.hostname !== (el as HTMLAnchorElement).hostname);\n\n/**\n * If the port is the same.\n * Note: SVGAElement do not have `port` property.\n */\nconst corsPort: PreventCheck = ({ el }) =>\n  (el as HTMLAnchorElement).port !== undefined &&\n  url.getPort() !== url.getPort((el as HTMLAnchorElement).href);\n\n/**\n * If the link has download attribute.\n */\nconst download: PreventCheck = ({ el }) =>\n  el.getAttribute && typeof el.getAttribute('download') === 'string';\n\n/**\n * If the links contains [data-barba-prevent] or [data-barba-prevent=\"self\"].\n */\nconst preventSelf: PreventCheck = ({ el }) =>\n  el.hasAttribute(`${schemaAttribute.prefix}-${schemaAttribute.prevent}`);\n\n/**\n * If some link ancestor contains [data-barba-prevent=\"all\"].\n */\nconst preventAll: PreventCheck = ({ el }) =>\n  Boolean(\n    el.closest(`[${schemaAttribute.prefix}-${schemaAttribute.prevent}=\"all\"]`)\n  );\n\n/**\n * If the link is the current URL.\n *\n * > Not in the test suite.\n */\nconst sameUrl: PreventCheck = ({ href }) =>\n  url.clean(href) === url.clean() && url.getPort(href) === url.getPort();\n\nexport class Prevent extends Ignore {\n  public suite: string[] = [];\n  public tests: Map<string, PreventCheck> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n    this.init();\n  }\n\n  public init(): void {\n    // Add defaults\n    this.add('pushState', pushState);\n    this.add('exists', exists);\n    this.add('newTab', newTab);\n    this.add('blank', blank);\n    this.add('corsDomain', corsDomain);\n    this.add('corsPort', corsPort);\n    this.add('download', download);\n    this.add('preventSelf', preventSelf);\n    this.add('preventAll', preventAll);\n\n    // Outside of the test suite\n    this.add('sameUrl', sameUrl, false);\n  }\n\n  public add(name: string, check: PreventCheck, suite: boolean = true): void {\n    this.tests.set(name, check);\n    suite && this.suite.push(name);\n  }\n\n  /**\n   * Run individual test\n   */\n  public run(name: string, el: Link, event: Event, href: string): boolean {\n    return this.tests.get(name)({\n      el,\n      event,\n      href,\n    });\n  }\n\n  /**\n   * Run test suite\n   */\n  public checkLink(el: Link, event: Event, href: string): boolean {\n    return this.suite.some(name => this.run(name, el, event, href));\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\nexport class BarbaError extends Error {\n  /* istanbul ignore next */\n  constructor(\n    public error: Error,\n    public label = 'Barba error',\n    ...params: any[]\n  ) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    super(...params);\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    /* istanbul ignore else */\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, BarbaError);\n    }\n\n    this.name = 'BarbaError';\n  }\n}\n","/**\n * @barba/core/modules/store\n * <br><br>\n * ## Transitions store.\n *\n * - Resolve transition\n * - Manage rules\n *\n * @module core/modules/store\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  IRule,\n  IRules,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  RuleName,\n} from '../defs';\n\n// Modules\nimport { Logger } from './Logger';\n\nexport class Store {\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All registered transitions.\n   */\n  public all: ITransitionPage[] = [];\n  /**\n   * \"Page only\" registered transitions.\n   */\n  public page: ITransitionPage[] = [];\n  /**\n   * \"Once only\" registered transitions.\n   */\n  public once: ITransitionOnce[] = [];\n  /**\n   * Rules for transition resolution.\n   *\n   * Defaults:\n   *\n   * - namespace\n   * - custom\n   */\n  private _rules: IRule[] = [\n    {\n      name: 'namespace',\n      type: 'strings',\n    },\n    {\n      name: 'custom',\n      type: 'function',\n    },\n  ];\n\n  /**\n   * Init store.\n   */\n  constructor(transitions: ITransitionPage[] = []) {\n    /* istanbul ignore else */\n    if (transitions) {\n      // TODO: add check for valid transitions? criteria? (once || enter && leave)\n      this.all = this.all.concat(transitions);\n    }\n    this.update();\n  }\n\n  /**\n   * Add rule or transition.\n   */\n  public add(type: 'rule' | 'transition', data: any): void {\n    switch (type) {\n      case 'rule':\n        // TODO: check for valid rule\n        this._rules.splice(data.position || 0, 0, data.value);\n        break;\n      case 'transition':\n      default:\n        // TODO: check for valid transition\n        this.all.push(data);\n        break;\n    }\n\n    this.update();\n  }\n\n  /**\n   * Resolve transition.\n   */\n  public resolve(\n    data: ITransitionData,\n    filters: ITransitionFilters = {}\n  ): ITransitionOnce | ITransitionPage {\n    // Filter on \"once\"\n    let transitions = filters.once ? this.once : this.page;\n\n    // Filter on \"self\"\n    if (filters.self) {\n      transitions = transitions.filter(t => t.name && t.name === 'self');\n    } else {\n      transitions = transitions.filter(t => !t.name || t.name !== 'self');\n    }\n\n    // All matching transition infos\n    const matching = new Map();\n\n    // Active = first of valid transitions\n    // sorted by directions (from/to, from || to, …)\n    const active = transitions.find(t => {\n      let valid = true;\n      const match = {};\n\n      if (filters.self && t.name === 'self') {\n        return true;\n      }\n\n      // Check rules\n      this._rules.reverse().forEach(rule => {\n        if (valid) {\n          valid = this._check(t, rule, data, match);\n          // From/to check\n          if (t.from && t.to) {\n            valid =\n              this._check(t, rule, data, match, 'from') &&\n              this._check(t, rule, data, match, 'to');\n          }\n          if (t.from && !t.to) {\n            valid = this._check(t, rule, data, match, 'from');\n          }\n          if (!t.from && t.to) {\n            valid = this._check(t, rule, data, match, 'to');\n          }\n        }\n      });\n\n      matching.set(t, match);\n\n      return valid;\n    });\n\n    const activeMatch = matching.get(active);\n    const transitionType = [];\n    if (filters.once) {\n      transitionType.push('once');\n    } else {\n      transitionType.push('page');\n    }\n    if (filters.self) {\n      transitionType.push('self');\n    }\n\n    if (activeMatch) {\n      // Log resolved transition\n      const infos: any[] = [active];\n      // Log if matching criteria\n      Object.keys(activeMatch).length > 0 && infos.push(activeMatch);\n\n      this.logger.info(\n        `Transition found [${transitionType.join(',')}]`,\n        ...infos\n      );\n    } else {\n      this.logger.info(`No transition found [${transitionType.join(',')}]`);\n    }\n\n    return active;\n  }\n\n  /**\n   * ### Update store.\n   *\n   * - Reorder transition by priorities\n   * - Get wait indicator\n   * - Get once transitions\n   */\n  public update(): void {\n    // Reorder by priorities\n    this.all = this.all\n      .map(t => this._addPriority(t))\n      .sort((a, b) => a.priority - b.priority)\n      .reverse()\n      .map(t => {\n        delete t.priority;\n\n        return t;\n      });\n    this.page = this.all.filter(\n      t => t.leave !== undefined || t.enter !== undefined\n    ) as ITransitionPage[];\n    this.once = this.all.filter(t => t.once !== undefined) as ITransitionOnce[];\n  }\n\n  /**\n   * ### Check if transition apply.\n   *\n   * Based on rule, page data and optional direction:\n   *\n   * 1. transition has no rule \"property\":\n   *    - always returns true\n   * 2. transition has rule \"property\":\n   *     - \"strings\" should be present on both side (transition + page) and match\n   *     - \"function\" should return true\n   */\n  private _check(\n    transition: ITransitionPage,\n    rule: IRule,\n    data: ITransitionData,\n    match: any,\n    direction?: 'from' | 'to'\n  ): boolean {\n    let isValid = true;\n    let hasMatch = false;\n    const t = transition;\n    const { name, type } = rule;\n    const strRule = name as IRules['strings'];\n    const objRule = name as IRules['object'];\n    const fnName = name as IRules['function'];\n    const base = direction ? t[direction] : t; // = t || t.from || t.to\n    const page = direction === 'to' ? data.next : data.current; // = current || next\n    const exist = direction ? base && base[name] : base[name];\n\n    // If transition rule exists\n    if (exist) {\n      switch (type) {\n        case 'strings':\n        default: {\n          // Array support\n          const names: string[] = Array.isArray(base[strRule])\n            ? (base[strRule] as string[])\n            : [base[strRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[strRule] && names.indexOf(page[strRule]) !== -1) {\n            hasMatch = true;\n          }\n          // If transition prop is different from current, not valid\n          if (names.indexOf(page[strRule]) === -1) {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'object': {\n          // Array support\n          const names: string[] = Array.isArray(base[objRule])\n            ? (base[objRule] as string[])\n            : [base[objRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[objRule]) {\n            if (\n              page[objRule].name &&\n              names.indexOf(page[objRule].name) !== -1\n            ) {\n              hasMatch = true;\n            }\n            // If transition prop is different from current, not valid\n            if (names.indexOf(page[objRule].name) === -1) {\n              isValid = false;\n            }\n          } else {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'function':\n          if (base[fnName](data)) {\n            hasMatch = true;\n          } else {\n            isValid = false;\n          }\n          break;\n      }\n\n      if (hasMatch) {\n        if (direction) {\n          match[direction] = match[direction] || {};\n          match[direction][name] = t[direction][name];\n        } else {\n          match[name] = t[name];\n        }\n      }\n    }\n\n    return isValid;\n  }\n\n  /**\n   * ### Calculate transition priority.\n   *\n   * Based on:\n   *\n   * - rule \"position\" (index) give tens, hundreds, thousands, …\n   * - from/to properties give units (0, 1 or 2)\n   */\n  private _calculatePriority(\n    t: ITransitionPage,\n    ruleName: RuleName,\n    ruleIndex: number\n  ): number {\n    let priority = 0;\n\n    if (\n      t[ruleName] ||\n      (t.from && t.from[ruleName]) ||\n      (t.to && t.to[ruleName])\n    ) {\n      priority += Math.pow(10, ruleIndex);\n\n      if (t.from && t.from[ruleName]) {\n        priority += 1;\n      }\n      if (t.to && t.to[ruleName]) {\n        priority += 2;\n      }\n    }\n\n    return priority;\n  }\n\n  private _addPriority(t: ITransitionPage): ITransitionPage {\n    t.priority = 0;\n    let priority = 0;\n\n    this._rules.forEach((rule, i) => {\n      const { name } = rule;\n      const index = i + 1;\n\n      priority += this._calculatePriority(t, name, index);\n    });\n\n    t.priority = priority;\n\n    return t;\n  }\n}\n","/**\n * @barba/core/modules/transitions\n * <br><br>\n * ## Transitions manager.\n *\n * - Handle hooks and transition lifecycle\n *\n * @module core/modules/transitions\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  HooksTransition,\n  HooksTransitionMap,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  Wrapper,\n} from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { dom, helpers, runAsync } from '../utils';\n// Modules\nimport { BarbaError } from './Error';\nimport { Logger } from './Logger';\nimport { Store } from './Store';\n\nexport class Transitions {\n  public logger: Logger = new Logger('@barba/core');\n  public store: Store;\n  private _running: boolean = false;\n\n  constructor(transitions: ITransitionPage[] = []) {\n    this.store = new Store(transitions);\n  }\n\n  /**\n   * Get resolved transition\n   *\n   * - based on data\n   */\n  public get(\n    data: ITransitionData,\n    filters?: ITransitionFilters\n  ): ITransitionOnce | ITransitionPage {\n    return this.store.resolve(data, filters);\n  }\n\n  /**\n   * Animation running status.\n   */\n  get isRunning(): boolean {\n    return this._running;\n  }\n  set isRunning(status: boolean) {\n    this._running = status;\n  }\n\n  /**\n   * Check for registered once transition(s).\n   */\n  get hasOnce(): boolean {\n    return this.store.once.length > 0;\n  }\n\n  /**\n   * Check for registered self transition.\n   */\n  get hasSelf(): boolean {\n    return this.store.all.some(t => t.name === 'self');\n  }\n\n  /**\n   * ### Wait indicator.\n   *\n   * Tells Barba to get next page data<br>\n   * before starting the resolution<br>\n   * because some registered transitions need<br>\n   * next page data to be resolved (eg: `sync: true`, `to: { namespace }`, …)\n   */\n  get shouldWait(): boolean {\n    return this.store.all.some(t => (t.to && !t.to.route) || t.sync);\n  }\n\n  /**\n   * ### Do \"once\" transition.\n   *\n   * Hooks: see [[HooksOnce]].\n   */\n  public async doOnce({\n    data,\n    transition,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionOnce;\n  }) {\n    const t = transition || {};\n    this._running = true;\n\n    try {\n      await this._doAsyncHook('beforeOnce', data, t);\n      await this.once(data, t);\n      await this._doAsyncHook('afterOnce', data, t);\n    } catch (error) {\n      this._running = false;\n\n      this.logger.debug('Transition error [before/after/once]');\n      this.logger.error(error);\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * ### Do \"page\" transition.\n   *\n   * Hooks: see [[HooksPage]].\n   *\n   * `sync: false` (default) order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. leave\n   * 4. afterLeave\n   * 5. beforeEnter\n   * 6. enter\n   * 7. afterEnter\n   * 8. after\n   *\n   * `sync: true` order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. beforeEnter\n   * 4. leave & enter\n   * 5. afterLeave\n   * 6. afterEnter\n   * 7. after\n   */\n  public async doPage({\n    data,\n    transition,\n    page,\n    wrapper,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionPage;\n    page: Promise<string | void>;\n    wrapper: Wrapper;\n  }) {\n    const t = transition || {};\n    const sync = t.sync === true || false;\n\n    this._running = true;\n\n    try {\n      // Check sync mode, wait for next content\n      if (sync) {\n        await helpers.update(page, data);\n      }\n\n      await this._doAsyncHook('before', data, t);\n\n      if (sync) {\n        try {\n          await this.add(data, wrapper);\n          // Before actions\n          await this._doAsyncHook('beforeLeave', data, t);\n          await this._doAsyncHook('beforeEnter', data, t);\n\n          // Actions\n          await Promise.all([this.leave(data, t), this.enter(data, t)]);\n\n          // After actions\n          await this._doAsyncHook('afterLeave', data, t);\n          await this._doAsyncHook('afterEnter', data, t);\n        } catch (error) {\n          // this.logger.debug('Transition error [sync]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(error, 'Transition error [sync]');\n          }\n        }\n      } else {\n        let leaveResult: any = false;\n\n        try {\n          // Leave\n          await this._doAsyncHook('beforeLeave', data, t);\n\n          leaveResult = await Promise.all([\n            this.leave(data, t),\n            helpers.update(page, data),\n          ]).then(values => values[0]);\n\n          await this._doAsyncHook('afterLeave', data, t);\n\n          // TODO: check here \"valid\" page result\n          // before going further\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/leave]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/leave]'\n            );\n          }\n        }\n\n        try {\n          // Enter\n          /* istanbul ignore else */\n          if (leaveResult !== false) {\n            await this.add(data, wrapper);\n\n            await this._doAsyncHook('beforeEnter', data, t);\n            await this.enter(data, t, leaveResult);\n            await this._doAsyncHook('afterEnter', data, t);\n          }\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/enter]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/enter]'\n            );\n          }\n        }\n      }\n\n      // Remove current contaienr\n      await this.remove(data);\n\n      await this._doAsyncHook('after', data, t);\n    } catch (error) {\n      this._running = false;\n\n      // If \"custom/specific\" barba error.\n      /* istanbul ignore else */\n      if (error.name && error.name === 'BarbaError') {\n        this.logger.debug(error.label);\n        this.logger.error(error.error);\n\n        throw error;\n      }\n\n      this.logger.debug('Transition error [page]');\n      this.logger.error(error);\n\n      throw error;\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * Once hook + async \"once\" transition.\n   */\n  public async once(data: ITransitionData, t: ITransitionOnce): Promise<void> {\n    await hooks.do('once', data, t);\n\n    return t.once ? runAsync(t.once, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Leave hook + async \"leave\" transition.\n   */\n  public async leave(data: ITransitionData, t: ITransitionPage): Promise<any> {\n    await hooks.do('leave', data, t);\n\n    return t.leave ? runAsync(t.leave, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Enter hook + async \"enter\" transition.\n   */\n  public async enter(\n    data: ITransitionData,\n    t: ITransitionPage,\n    leaveResult?: any\n  ): Promise<void> {\n    await hooks.do('enter', data, t);\n\n    return t.enter\n      ? runAsync(t.enter, t)(data, leaveResult)\n      : Promise.resolve();\n  }\n\n  /**\n   * Add next container.\n   */\n  public async add(data: ITransitionData, wrapper: Wrapper): Promise<void> {\n    dom.addContainer(data.next.container, wrapper);\n    hooks.do('nextAdded', data);\n  }\n\n  /**\n   * Remove current container.\n   */\n  public async remove(data: ITransitionData): Promise<void> {\n    dom.removeContainer(data.current.container);\n    hooks.do('currentRemoved', data);\n  }\n\n  private _isTransitionError(error: any) {\n    if (error.message) {\n      // Errors from request\n      return !/Timeout error|Fetch error/.test(error.message);\n    }\n\n    if (error.status) {\n      // Errors from request\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Do hooks + async transition methods.\n   */\n  private async _doAsyncHook(\n    hook: HooksTransition,\n    data: ITransitionData,\n    t: HooksTransitionMap\n  ): Promise<void> {\n    await hooks.do(hook, data, t);\n\n    return t[hook] ? runAsync(t[hook], t)(data) : Promise.resolve();\n  }\n}\n","/**\n * @barba/core/modules/views\n * <br><br>\n * ## Views manager.\n *\n * @module core/modules/views\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HooksView, IView, IViewData } from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { runAsync } from '../utils';\n// Types\ntype Hook = (data: IViewData) => Promise<void>;\n\nexport class Views {\n  /**\n   * Available hook names for views.\n   */\n  public names: HooksView[] = [\n    'beforeLeave',\n    'afterLeave',\n    'beforeEnter',\n    'afterEnter',\n  ];\n  /**\n   * Registered views by namespace.\n   */\n  public byNamespace: Map<string, IView> = new Map();\n\n  /**\n   * Init views.\n   */\n  constructor(views: IView[]) {\n    if (views.length === 0) {\n      return;\n    }\n\n    // TODO: add check\n    // for valid views? criteria? (namespace property, string ?)\n    // or duplicate\n    views.forEach(view => {\n      this.byNamespace.set(view.namespace, view);\n    });\n\n    this.names.forEach(name => {\n      hooks[name](this._createHook(name));\n    });\n  }\n\n  /**\n   * Create the hook method.\n   *\n   * - get view based on namespace\n   * - execute callback with transition data\n   */\n  private _createHook(name: HooksView): Hook {\n    return data => {\n      const { namespace } = name.match(/enter/i) ? data.next : data.current;\n      const view = this.byNamespace.get(namespace);\n\n      // TODO: manage self…\n      // if (view && data.trigger !== 'self') {\n      if (view && view[name]) {\n        return runAsync(view[name], view)(data);\n      }\n\n      return Promise.resolve();\n    };\n  }\n}\n","// Element.prototype.matches polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    (Element as any).prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\n// Element.prototype.closest polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function closest(s: string) {\n    let el = this;\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = (el.parentElement || el.parentNode) as Element;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n","/**\n * @module core/schemas\n */\n\n// Definitions\nimport { ISchemaPage } from '../defs';\n\n/**\n * See [[ISchemaPage]]\n */\nexport const schemaPage: ISchemaPage = {\n  container: null,\n  html: '',\n  namespace: '',\n  url: {\n    hash: '',\n    href: '',\n    path: '',\n    port: null,\n    query: {},\n  },\n};\n","/**\n * @barba/core\n * <br><br>\n * ## Barba core object\n *\n * Main methods:\n *\n * - `.init()` for initialization with options\n * - `.use()` for plugins\n *\n * @module core\n */\n\n/***/\n\nimport { version } from '../package.json';\n// Definitions\nimport {\n  IBarbaOptions,\n  IBarbaPlugin,\n  IgnoreOption,\n  ISchemaPage,\n  ITransitionData,\n  ITransitionOnce,\n  ITransitionPage,\n  Link,\n  LinkEvent,\n  RequestCustomError,\n  RequestErrorOrResponse,\n  SchemaAttributeValues,\n  Trigger,\n  Wrapper,\n} from './defs';\n// Hooks\nimport { hooks } from './hooks';\n// Modules\nimport { Cache } from './modules/Cache';\nimport { Logger } from './modules/Logger';\nimport { Prevent } from './modules/Prevent';\nimport { Transitions } from './modules/Transitions';\nimport { Views } from './modules/Views';\n// Polyfills\nimport './polyfills';\n// Schemas\nimport { schemaAttribute } from './schemas/attribute';\nimport { schemaPage } from './schemas/page';\n// Utils\nimport { dom, helpers, history, request, url } from './utils';\n\nexport class Core {\n  /**\n   * Version.\n   */\n  public version: string = version;\n  /**\n   * Schemas.\n   */\n  public schemaPage: ISchemaPage = schemaPage;\n  /**\n   * Logger class, allows plugins to create Logger.\n   */\n  public Logger: typeof Logger = Logger;\n  /**\n   * Barba logger.\n   */\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * Plugins.\n   */\n  public plugins: Array<IBarbaPlugin<any>> = [];\n  /**\n   * Options\n   */\n  public timeout: number;\n  public cacheIgnore: IgnoreOption;\n  public prefetchIgnore: IgnoreOption;\n  public preventRunning: boolean;\n  /**\n   * Hooks\n   */\n  public hooks = hooks;\n  /**\n   * Modules.\n   */\n  // public history: History;\n  public cache: Cache;\n  public prevent: Prevent;\n  public transitions: Transitions;\n  public views: Views;\n  /**\n   * Utils.\n   */\n  public dom = dom;\n  public helpers = helpers;\n  public history = history;\n  public request = request;\n  public url = url;\n\n  private _data: ITransitionData;\n  private _requestCustomError: RequestCustomError;\n  private _wrapper: Wrapper;\n\n  /**\n   * ### Init plugin with options.\n   *\n   * See [[IBarbaPlugin]] for more details.\n   */\n  public use<T>(plugin: IBarbaPlugin<T>, options?: T): void {\n    const installedPlugins = this.plugins;\n\n    // Plugin installation\n    if (installedPlugins.indexOf(plugin) > -1) {\n      this.logger.warn(`Plugin [${plugin.name}] already installed.`);\n\n      return;\n    }\n\n    if (typeof plugin.install !== 'function') {\n      this.logger.warn(`Plugin [${plugin.name}] has no \"install\" method.`);\n\n      return;\n    }\n\n    plugin.install(this, options);\n    installedPlugins.push(plugin);\n  }\n\n  /**\n   * ### Init barba with options.\n   *\n   * See [[IBarbaOptions]] for more details.\n   *\n   * Default values are:\n   *\n   * - transitions: `[]`\n   * - views: `[]`\n   * - schema: [[SchemaAttribute]]\n   * - timeout: `2e3`\n   * - cacheIgnore: `false`\n   * - prefetchIgnore: `false`\n   * - preventRunning: `false`\n   * - prevent: `null`,\n   * - debug: `false`\n   * - logLevel: `'debug'`\n   */\n  public init(\n    /** @ignore */ {\n      transitions = [],\n      views = [],\n      schema = schemaAttribute,\n      requestError,\n      timeout = 2e3,\n      cacheIgnore = false,\n      prefetchIgnore = false,\n      /* istanbul ignore next */\n      preventRunning = false,\n      prevent: preventCustom = null,\n      debug = false,\n      logLevel = 'off',\n    }: IBarbaOptions = {}\n  ) {\n    // 0. Set logger level and print version\n    Logger.setLevel(debug === true ? 'debug' : logLevel);\n    this.logger.info(this.version);\n\n    // 1. Manage options\n    Object.keys(schema).forEach(k => {\n      const attr = k as SchemaAttributeValues;\n\n      /* istanbul ignore else */\n      if (schemaAttribute[attr]) {\n        schemaAttribute[attr] = schema[attr];\n      }\n    });\n    this._requestCustomError = requestError;\n    this.timeout = timeout;\n    this.cacheIgnore = cacheIgnore;\n    this.prefetchIgnore = prefetchIgnore;\n    this.preventRunning = preventRunning;\n\n    // 2. Get and check wrapper\n    this._wrapper = this.dom.getWrapper();\n    if (!this._wrapper) {\n      throw new Error('[@barba/core] No Barba wrapper found');\n    }\n    this._wrapper.setAttribute('aria-live', 'polite'); // A11y\n\n    // 3. Init pages (get \"current\" data)\n    this._resetData();\n\n    const { current } = this.data;\n\n    if (!current.container) {\n      throw new Error('[@barba/core] No Barba container found');\n    }\n\n    // 4. Init other modules\n    this.cache = new Cache(cacheIgnore);\n    this.prevent = new Prevent(prefetchIgnore);\n    this.transitions = new Transitions(transitions);\n    this.views = new Views(views);\n\n    // Add prevent custom\n    if (preventCustom !== null) {\n      if (typeof preventCustom !== 'function') {\n        throw new Error('[@barba/core] Prevent should be a function');\n      }\n\n      this.prevent.add('preventCustom', preventCustom);\n    }\n\n    // 5. Use \"current\" data\n    // Init history\n    this.history.init(current.url.href, current.namespace);\n    // Add to cache\n    // TODO: do not cache renderer HTML, only request results…\n    // this.cache.set(current.url.href, Promise.resolve(current.html), 'init');\n\n    // 6. Bind context\n    this._onLinkEnter = this._onLinkEnter.bind(this);\n    this._onLinkClick = this._onLinkClick.bind(this);\n    this._onStateChange = this._onStateChange.bind(this);\n    this._bind();\n\n    // 7. Init plugins\n    this.plugins.forEach(plugin => plugin.init());\n\n    // 8. Barba ready\n    // Set next + trigger for once and `beforeEnter`/`afterEnter` view on page load.\n    const onceData = this.data;\n\n    onceData.trigger = 'barba';\n    onceData.next = onceData.current;\n    onceData.current = { ...this.schemaPage };\n    this.hooks.do('ready', onceData);\n\n    // 9. Finally, do once…\n    this.once(onceData);\n\n    // Clean data for first barba transition…\n    this._resetData();\n  }\n\n  public destroy(): void {\n    this._resetData();\n    this._unbind();\n    this.history.clear();\n    this.hooks.clear();\n    this.plugins = [];\n  }\n\n  get data(): ITransitionData {\n    return this._data;\n  }\n\n  get wrapper(): HTMLElement {\n    return this._wrapper;\n  }\n\n  /**\n   * ### Force a page change without Barba transition.\n   */\n  public force(href: string): void {\n    // DEV\n    // Can be used waiting animation cancellation management…\n    window.location.assign(href);\n  }\n\n  /**\n   * ### Go for a Barba transition.\n   *\n   * Manage \"self page\" href:\n   *\n   * - if same url and no self transition, keep default behavior\n   *   - link: reload the page\n   *   - anchor: scroll to\n   * - if same url with self transition, use it\n   * - then start a page transition.\n   */\n  public go(\n    href: string,\n    trigger: Trigger = 'barba',\n    e?: LinkEvent | PopStateEvent\n  ): Promise<void> {\n    // If animation running, force reload\n    if (this.transitions.isRunning) {\n      this.force(href);\n\n      return;\n    }\n\n    let self = false;\n\n    // Check prevent sameURL against current history\n    // + state check\n    // + update trigger with direction\n    if (trigger === 'popstate') {\n      self =\n        this.history.current &&\n        this.url.getPath(this.history.current.url) === this.url.getPath(href);\n    } else {\n      self = this.prevent.run('sameUrl', null, null, href);\n    }\n\n    if (self && !this.transitions.hasSelf) {\n      return;\n    }\n\n    trigger = this.history.change(href, trigger, e);\n\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    return this.page(href, trigger, self);\n  }\n\n  /**\n   * ### Start an \"once\" transition.\n   *\n   * If some registered \"once\" transition,\n   * get the \"resolved\" transition from the store and start it.\n   */\n  public async once(readyData: ITransitionData): Promise<void> {\n    await this.hooks.do('beforeEnter', readyData);\n\n    // Check if once transition\n    if (this.transitions.hasOnce) {\n      const transition = this.transitions.get(readyData, {\n        once: true,\n      }) as ITransitionOnce;\n\n      await this.transitions.doOnce({ transition, data: readyData });\n    }\n\n    await this.hooks.do('afterEnter', readyData);\n  }\n\n  /**\n   * ### Start a \"page\" transition.\n   *\n   * 1. If no running transition, updates data with full URL properties and trigger.\n   * 2. Get page from cache or init request.\n   * 3. Wait if some transitions need \"next\" data (`sync: true`, `to: …`).\n   * 4. Manage the history, depending on trigger.\n   * 5. Get \"data\" and trigger \"go\" hook.\n   * 6. Get the \"resolved\" transition from the store and start it.\n   * 7. Update title and reset data (current, next = undefined).\n   *\n   * > If \"self\", use the \"self\" transition\n   */\n  public async page(\n    href: string,\n    trigger: Trigger,\n    self: boolean\n  ): Promise<void> {\n    this.data.next.url = {\n      href,\n      ...this.url.parse(href),\n    };\n    this.data.trigger = trigger;\n\n    const page = this.cache.has(href)\n      ? this.cache.update(href, { action: 'click' }).request\n      : this.cache.set(\n          href,\n          this.request(\n            href,\n            this.timeout,\n            this.onRequestError.bind(this, trigger)\n          ),\n          'click'\n        ).request;\n\n    // Need to wait before getting the right transition\n    if (this.transitions.shouldWait) {\n      await helpers.update(page, this.data);\n    }\n\n    const data = this.data;\n\n    // Hook: between trigger and transition\n    // Can be used to resolve \"route\"…\n    await this.hooks.do('page', data);\n\n    try {\n      const transition = this.transitions.get(data, {\n        once: false,\n        self,\n      }) as ITransitionPage;\n\n      await this.transitions.doPage({\n        data,\n        page,\n        transition,\n        wrapper: this._wrapper,\n      });\n\n      this._resetData();\n    } catch (error) {\n      // Something went wrong (rejected promise, error, 404, 505, other…)\n      // TODO: manage / use cases for cancellation\n      // this.logger.debug('Transition cancelled');\n\n      // If transition error and no debug mode, force reload page.\n      /* istanbul ignore else */\n      if (Logger.getLevel() === 0) {\n        this.force(data.current.url.href);\n      }\n    }\n  }\n\n  /**\n   * When a request error occurs.\n   *\n   * Allow the user to manage request error. (E.g: 404)\n   */\n  public onRequestError(trigger: Trigger, ...args: any): boolean {\n    // Cancel transition status\n    this.transitions.isRunning = false;\n\n    const [href, response]: [string, RequestErrorOrResponse] = args;\n    const action = this.cache.getAction(href);\n    this.cache.delete(href);\n\n    // Custom requestError returning false will return here.\n    if (\n      this._requestCustomError &&\n      this._requestCustomError(trigger, action, href, response) === false\n    ) {\n      return false;\n    }\n\n    // Force page change\n    if (action === 'click') {\n      this.force(href);\n    }\n    return false;\n  }\n\n  /**\n   * Programmatically prefetch\n   */\n  public prefetch(href: string) {\n    // Already in cache\n    /* istanbul ignore next */\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, 'barba')\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'prefetch'\n    );\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _bind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.addEventListener('mouseover', this._onLinkEnter);\n      document.addEventListener('touchstart', this._onLinkEnter);\n    }\n    document.addEventListener('click', this._onLinkClick);\n    window.addEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _unbind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.removeEventListener('mouseover', this._onLinkEnter);\n      document.removeEventListener('touchstart', this._onLinkEnter);\n    }\n    document.removeEventListener('click', this._onLinkClick);\n    window.removeEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * When a element is entered.\n   *\n   * Get valid link element.\n   * Cache URL if needed.\n   */\n  private _onLinkEnter(e: LinkEvent): void {\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    const href = this.dom.getHref(link);\n\n    if (this.prevent.checkHref(href)) {\n      return;\n    }\n\n    // Already in cache\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, link)\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'enter'\n    );\n  }\n\n  /**\n   * When an element is clicked.\n   *\n   * Get valid link element.\n   * Prevent same URL.\n   * Go for a Barba transition.\n   */\n  private _onLinkClick(e: LinkEvent): void {\n    // This use `prevent.checkLink` under the hood to get eligible link.\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    if (this.transitions.isRunning && this.preventRunning) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      return;\n    }\n\n    this.go(this.dom.getHref(link), link, e);\n  }\n\n  /**\n   * When History state changes.\n   *\n   * Get \"href\" from URL\n   * Go for a Barba transition.\n   */\n  private _onStateChange(e: PopStateEvent): void {\n    this.go(this.url.getHref(), 'popstate', e);\n  }\n\n  /**\n   * Get a valid link ancestor.\n   *\n   * Check for a \"href\" attribute.\n   * Then check if eligible for Barba.\n   */\n  private _getLinkElement(e: LinkEvent): Link {\n    let el = e.target as Link;\n\n    while (el && !this.dom.getHref(el)) {\n      el = (el as HTMLElement).parentNode as Link;\n    }\n\n    // Check prevent\n    if (!el || this.prevent.checkLink(el, e, this.dom.getHref(el))) {\n      return;\n    }\n\n    return el;\n  }\n\n  /**\n   * Reset pages data.\n   *\n   * Set \"current\" and unset \"next\".\n   */\n  private _resetData() {\n    const href = this.url.getHref();\n    const current = {\n      container: this.dom.getContainer(),\n      html: this.dom.getHtml(),\n      namespace: this.dom.getNamespace(),\n      url: {\n        href,\n        ...this.url.parse(href),\n      },\n    };\n\n    this._data = {\n      current,\n      next: { ...this.schemaPage },\n      trigger: undefined,\n    };\n\n    this.hooks.do('reset', this.data);\n  }\n}\n\nconst core = new Core();\n\nexport default core;\n","import './sass/style.scss'\nimport './js/gsap/barba.gsap.js'\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n  let links = document.querySelectorAll(\"#wpadminbar a\");\n  let admin = document.getElementById(\"wpadminbar\");\n  admin.setAttribute(\"data-barba-prevent\", \"all\");\n  for (const link of links) {\n    link.classList.add('no-barba')\n  }\n});\n\n\n\n","import {fadeIn, fadeInUp, fadeInUpStagger} from \"./animation.gsap\";\n\nexport const animationAbout = {\n  enter: () => {\n    let tl = gsap.timeline();\n    return tl\n      .to('.nav-main', {opacity: 1})\n      .to('.about-wrapper', {opacity: 1})\n      .from('.about-title', fadeInUp)\n      .from('.about-img-wrapper', fadeIn)\n      .from('.about-main-text p', fadeInUpStagger)\n      .to('.about-wrapper', {backgroundColor: 'black'})\n      .to('.about-title', {color: 'white'})\n      .to('.about-main-text p', {color: 'white'})\n  },\n  beforeEnter: () => {\n    gsap.set('.about-wrapper', {opacity: 0})\n    gsap.set('.nav-main', {opacity: 0})\n  }\n}\n","export  let fadeInUp = {\n  autoAlpha: 0,\n  duration: 0.3,\n  y: -50\n}\n\nexport let fadeInUpStagger = {\n  autoAlpha: 0,\n  y: -50,\n  stagger: 0.3\n}\n\nexport let fadeInStagger = {\n  autoAlpha: 0,\n  stagger: 0.3\n}\n\nexport let fadeInScale = {\n  autoAlpha: 0,\n  scaleX: 0.5,\n  duration: 0.7\n}\n\nexport let fadeIn = {\n  autoAlpha: 0,\n  duration: 0.3,\n}\n","import barba from \"@barba/core\";\nimport {animationLoader} from \"./loader.gsap\";\nimport {animationAbout} from \"./about.gsap\";\nimport {animationIndex} from \"./index.gsap\";\n\nbarba.init({\n  transitions: [{\n    name: 'opacity-transition',\n    leave(data) {\n      animationLoader.reset()\n    },\n    enter(data) {\n      animationLoader.loaderIn()\n      window.scrollTo(0, 0);\n    }\n  }],\n  views: [{\n    namespace: 'about',\n    afterEnter(data) {\n      animationAbout.enter().start()\n    },\n    beforeEnter(data) {\n      animationAbout.beforeEnter()\n    }\n  },\n    {\n      namespace: 'home',\n      afterEnter(data) {\n        animationIndex.enter().start()\n      },\n      beforeEnter(data) {\n        animationIndex.beforeEnter()\n      }\n    }\n  ]\n});\n\nbarba.hooks.before(() => {\n  document.querySelector('html').classList.add('is-transitioning');\n});\nbarba.hooks.after(() => {\n  document.querySelector('html').classList.remove('is-transitioning');\n});\nbarba.hooks.enter(() => {\n  animationLoader.loaderIn()\n  window.scrollTo(0, 0);\n});\n","import {fadeInStagger} from \"./animation.gsap\";\n\nexport const animationIndex = {\n  leave: () => {\n    gsap.set('.home-wrapper', {opacity: 0})\n    gsap.set('.nav-main', {opacity: 0})\n  },\n  beforeEnter: () => {\n    console.log('started')\n    let tl = gsap.timeline();\n    return tl\n      .to('.nav-main', {opacity: 1})\n      .to('.home-wrapper', {opacity: 1})\n      .from('.home-wrapper article', fadeInStagger)\n  },\n}\n\n\n","export const animationLoader = {\n  reset: () => {\n    gsap.set('.loader', {\n      scaleX: 0,\n      rotation: 10,\n      xPercent: -5,\n      yPercent: -50,\n      transformOrigin: 'left center',\n      autoAlpha: 1\n    });\n  },\n  loaderIn: () => {\n    let tl = gsap.timeline({\n      onComplete: animationLoader.loaderAway,\n    })\n    tl.fromTo('.loader',\n      {\n        rotation: 10,\n        scaleX: 0,\n        xPercent: -5\n      },\n      {\n        duration: 0.8,\n        xPercent: 0,\n        scaleX: 1,\n        rotation: 0,\n        ease: 'power4.inOut',\n        transformOrigin: 'left center'\n      });\n  },\n  loaderAway: () => {\n    gsap.to('.loader', {\n      duration: 0.8,\n      scaleX: 0,\n      xPercent: 5,\n      rotation: -10,\n      transformOrigin: 'right center',\n      ease: 'power4.inOut'\n    })\n  }\n}\n\n","// extracted by mini-css-extract-plugin","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/index.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}